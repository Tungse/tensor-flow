{"version":3,"sources":["webpack://smbGalleryDesktop/webpack/universalModuleDefinition","webpack://smbGalleryDesktop/webpack/bootstrap","webpack://smbGalleryDesktop/./node_modules/embedo/embedo.js","webpack://smbGalleryDesktop/./node_modules/filer-js-sdk/dist/filer.js","webpack://smbGalleryDesktop/./src/common/gallery-data.js","webpack://smbGalleryDesktop/./src/common/referrer.js","webpack://smbGalleryDesktop/./src/common/url.js","webpack://smbGalleryDesktop/./src/common/embedo.js","webpack://smbGalleryDesktop/./src/desktop.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","Embedo","options","this","defaults","OPTIONS","requests","events","init","automagic","parentNode","childNode","callback","log","utils","validateElement","Error","watcher","id","uuid","parent","width","compute","height","child","strict","isOverflowing","style","scale","Math","min","transform","facebook","twitter","instagram","pinterest","SOURCES","GLOBAL","SDK","oEmbed","REGEX","PARAMS","version","cookie","appId","xfbml","youtube","vimeo","github","soundcloud","RESTRICTED","writable","configurable","type","debug","console","apply","Array","slice","arguments","plugins","forEach","plugin","primary","random","secondary","toString","extend","obj","length","merge","destination","source","preserve","indexOf","sequencer","args","then","done","counter","callme","replacer","str","split","join","observer","Deferred","resolved","rejected","execute","list","resolve","reject","push","fail","camelToSnake","replace","toLowerCase","validateURL","url","test","generateElement","attributes","html","el","document","createElement","keys","setAttribute","innerHTML","generateEmbed","container","appendChild","generateScript","script","src","encodeURI","HTMLElement","nodeType","nodeName","sdkReady","check","setTimeout","querystring","parts","encodeURIComponent","fetch","target","head","getElementsByTagName","jsonpCallback","clear","e","removeChild","data","defer","charset","onerror","err","ajax","xhr","XMLHttpRequest","onload","status","responseText","statusText","JSON","parse","open","send","element","props","webkitTransform","MozTransform","msTransform","OTransform","prop","is_computed","getBoundingClientRect","defaultView","getComputedStyle","getPropertyValue","currentStyle","toUpperCase","isNaN","Number","convertToPx","percent","parent_width","parseFloat","percent_px","match","w","documentElement","g","body","x","innerWidth","clientWidth","y","innerHeight","clientHeight","relative_px","fn","timer","EMBEDO_WATCHER","count","request","clearTimeout","dimensions","el_width","centerize","parent_el","child_el","maxWidth","marginLeft","marginRight","maxHeight","display","textAlign","margin","handleScriptValidation","scripts","defineProperties","on","event","listener","off","index","splice","emit","listeners","once","sdk","locale","navigator","language","appendSDK","domify","embedos","querySelectorAll","embedo_el","dataset","reduce","acc","cur","render","fb_html_class","embed_uri","query","omitscript","maxwidth","error","content","handleFacebookEmbed","maxheight","fb_html","class","data-href","data-width","removeAttribute","FB","XFBML","Event","subscribe","firstChild","getAttribute","facebookify","result","omit_script","twttr","widgets","load","twitterify","hidecaption","method","jsonp","extracted_url","iframe","instgrm","Embeds","process","instagram_embed_timer","setInterval","className","clearInterval","instagramify","getYTVideoID","youtube_uri","modestbranding","autohide","showinfo","size","embed_options","pin_size","pin_el","href","data-pin-do","data-pin-lang","data-pin-width","PinUtils","querySelector","build","pinterest_embed_timer_count","pinterest_embed_timer","pinterestify","contentWindow","write","close","addEventListener","format","fragment","createDocumentFragment","extension","substr","lastIndexOf","mimes","csv","pdf","gif","js","json","xhtml","pps","ppsx","xml","ogg","mp4","webm","mimetype","el_type","tagName","override","embed_el","sources","matched_source","filter","Boolean","getURLSource","urls","reqs","failed","finished","jobs","map","refresh","getElementById","destroy","removed","remove","assign","varArgs","len","concat","TypeError","to","nextSource","nextKey","chars","InvalidCharacterError","message","b64","b2a","input","String","out","block","charCode","idx","charAt","charCodeAt","a2b","bs","buffer","bc","fromCharCode","basename","path","dirname","substring","splitExt","ext","urlPat","parseUrl","base","search","hash","buildUrl","createPathInfo","params","encodeSTIPathParams","/","+","decodeSTIPathParams","unpackSTIPathParams","-","_","STI_V1_PATH_PAT","STI_V2_PATH_PAT","STI_V3_PATH_PAT","SHUTTLE_PATH_PAT","SHUTTLE_PARAMS_PAT","pathParsers","info","pathMatch","paramsMatch","parsePath","isVariant","pathInfo","buildSTIv1Path","pathBuilders","sti-v1","sti-v2","sti-v3","nameParts","shuttle-v2","getPathBuilder","normalizePathParams","isSTIPath","createVariantUrl","urlParts","pathParams","normalizeExtension","indexOfActionInParams","action","parseInt","createShuttlePath","genUniqId","createSTIPath","genSTIPathId","extendPathParams","getPathParams","getSourceUrl","getSourcePath","isShuttlePath","isShuttleUrl","isSTIUrl","find","isSTIv1Url","isSTIv2Url","isSTIv3Url","updateVariantUrl","origParams","exchangeR","origIndex","origIndexes","getData","dataSelector","htmlString","getReferrer","referrer","includes","location","protocol","host","getInitalPage","galleryLength","hashPage","initialPage","embedoInst","__webpack_exports__","renderContent","stageSelector","contentSelector","settings","state","setInitialState","itemListElement","currentPage","renderPage","renderStage","bindEvents","afterPageRender","elm","preventDefault","goPrev","goNext","onkeydown","keyCode","onpopstate","page","go","history","pushState","scrollTo","smbt","iom","iam_data","adLoader","resetBodyStyles","onItemChange","bb","unload","prevPage","nextPage","item","renderMedia","copyrightHolder","Filer","contentUrl","embedUrl","sharedContent","description","smbContext"],"mappings":"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","file":"smb-gallery-desktop.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"smbGalleryDesktop\"] = factory();\n\telse\n\t\troot[\"smbGalleryDesktop\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","/**\n * @file embedo.js\n *\n * Embedo is third party content embed plugin with features having events and resizing.\n * It provides a layer above popular social media sites native embed snippets\n * making it easier to hook content without modifying much code.\n *\n * @author Shobhit Sharma <hi@shobh.it>\n * @license MIT\n */\n\n'use strict';\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else if (root) {\n    root.Embedo = window.Embedo = factory();\n  }\n})(this, function () {\n  /**\n   * @class Embedo Prototype\n   *\n   * @param {object} options Initialize options.\n   */\n  function Embedo(options) {\n    this.options = options || Embedo.defaults.OPTIONS;\n    this.requests = [];\n    this.events = [];\n\n    this.init(this.options);\n\n    return this;\n  }\n\n  /**\n   * @constant\n   * Embedo defaults\n   *\n   * @description Embedo defaults contains basic configuration and values required to build internal engine.\n   */\n  Object.defineProperty(Embedo, 'defaults', {\n    value: {\n      OPTIONS: {\n        facebook: null,\n        twitter: false,\n        instagram: false,\n        pinterest: false\n      },\n      SOURCES: {\n        facebook: {\n          GLOBAL: 'FB',\n          SDK: '//connect.facebook.net/${locale}/all.js',\n          oEmbed: '//www.facebook.com/plugins/${type}/oembed.json',\n          REGEX: /(?:(?:http|https):\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?([\\w\\-]*)?/g,\n          PARAMS: {\n            version: 'v3.2',\n            cookie: true,\n            appId: null,\n            xfbml: true\n          }\n        },\n        twitter: {\n          GLOBAL: 'twttr',\n          SDK: '//platform.twitter.com/widgets.js',\n          oEmbed: '//publish.twitter.com/oembed',\n          REGEX: /^http[s]*:\\/\\/[www.]*twitter(\\.[a-z]+).*/i,\n          PARAMS: {}\n        },\n        instagram: {\n          GLOBAL: 'instgrm',\n          SDK: '//www.instagram.com/embed.js',\n          oEmbed: '//api.instagram.com/oembed',\n          REGEX: /(http|https)?:\\/\\/(www\\.)?instagram.com\\/p\\/[a-zA-Z0-9_\\/\\?\\-\\=]+/gi,\n          PARAMS: {}\n        },\n        youtube: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//www.youtube.com/embed/',\n          REGEX: /^(?:(?:https?:)?\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu(?:be)?\\.com\\/(?:v\\/|embed\\/|watch(?:\\/|\\?v=))|youtu\\.be\\/)((?:\\w|-){11})(?:\\S+)?$/,\n          PARAMS: null\n        },\n        pinterest: {\n          GLOBAL: 'PinUtils',\n          SDK: '//assets.pinterest.com/js/pinit.js',\n          oEmbed: null,\n          REGEX: /(https?:\\/\\/(ww.)?)?pinterest(\\.[a-z]+).*/i,\n          PARAMS: {}\n        },\n        vimeo: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//vimeo.com/api/oembed.json',\n          REGEX: /(http|https)?:\\/\\/(www\\.)?vimeo(\\.[a-z]+)\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|)(\\d+)(?:|\\/\\?)/,\n          PARAMS: {}\n        },\n        github: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: null,\n          REGEX: /(http|https):\\/\\/gist\\.github\\.com\\/(\\w+)\\/(\\w+)/,\n          PARAMS: {}\n        },\n        soundcloud: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//soundcloud.com/oembed',\n          REGEX: /^(http|https):\\/\\/soundcloud\\.com\\/(\\w+)\\/.*$/,\n          PARAMS: {}\n        }\n      },\n      RESTRICTED: ['url', 'strict', 'height', 'width', 'centerize', 'jsonp']\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  // Application Logger\n  Object.defineProperty(Embedo, 'log', {\n    value: function log(type) {\n      if (!Embedo.debug) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console[type] !== 'undefined') {\n        console[type].apply(console, Array.prototype.slice.call(arguments, 1));\n      }\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  // Plugins Loader\n  Object.defineProperty(Embedo, 'plugins', {\n    value: function load(plugins) {\n      if (!plugins) {\n        return;\n      }\n      if (plugins instanceof Array) {\n        plugins.forEach(function (plugin) {\n          if (typeof plugin === 'function') {\n            plugin(Embedo);\n          }\n        });\n      } else if (plugins === 'fuction') {\n        plugins(Embedo);\n      }\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  /**\n   * Helper utlities\n   * @method utils\n   *\n   * @private\n   */\n  Object.defineProperty(Embedo, 'utils', {\n    value: Object.create({\n      /**\n       * @function uuid\n       */\n      uuid: function uuid() {\n        var primary = (Math.random() * 0x10000) | 0;\n        var secondary = (Math.random() * 0x10000) | 0;\n        primary = ('000' + primary.toString(36)).slice(-3);\n        secondary = ('000' + secondary.toString(36)).slice(-3);\n        return 'embedo_' + primary + secondary;\n      },\n\n      /**\n       * @function extend\n       * @returns {object}\n       */\n      extend: function extend(obj) {\n        obj = obj || {};\n        for (var i = 1; i < arguments.length; i++) {\n          if (!arguments[i]) {\n            continue;\n          }\n          for (var key in arguments[i]) {\n            if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n            }\n          }\n        }\n        return obj;\n      },\n\n      /**\n       * @function merge\n       *\n       * @param {object} destination\n       * @param {object} source\n       * @param {array} preserve\n       * @returns\n       */\n      merge: function merge(destination, source, preserve) {\n        preserve = preserve || [];\n\n        for (var property in source) {\n          if (preserve.indexOf(property) === -1) {\n            destination[property] = source[property];\n          }\n        }\n\n        return destination;\n      },\n\n      /**\n       * @func sequencer\n       * Breaks down array into sequencer\n       *\n       * @param {Array} array\n       * @param {Number} size\n       * @returns\n       */\n      sequencer: function sequencer() {\n        var args = arguments;\n        return {\n          then: function (done) {\n            var counter = 0;\n            for (var i = 0; i < args.length; i++) {\n              args[i](callme);\n            }\n\n            function callme() {\n              counter++;\n              if (counter === args.length) {\n                done();\n              }\n            }\n          }\n        };\n      },\n\n      /**\n       * @func replacer\n       * Replaces ${entity} with object key/value pair\n       *\n       * @param {string} str\n       * @param {object} obj\n       */\n      replacer: function replacer(str, obj) {\n        if (!str || !obj) {\n          return;\n        }\n        if (obj) {\n          for (var key in obj) {\n            if (str) {\n              str = str.split('${' + key + '}').join(obj[key]);\n            }\n          }\n        }\n        return str;\n      },\n\n      /**\n       * @func observer\n       *\n       * Deferred Implementation for Object\n       */\n      observer: (function () {\n        function Deferred() {\n          this.resolved = [];\n          this.rejected = [];\n        }\n        Deferred.prototype = {\n          execute: function (list, args) {\n            var i = list.length;\n            args = Array.prototype.slice.call(args);\n            while (i--) {\n              list[i].apply(null, args);\n            }\n          },\n          resolve: function () {\n            this.execute(this.resolved, arguments);\n          },\n          reject: function () {\n            this.execute(this.rejected, arguments);\n          },\n          done: function (callback) {\n            this.resolved.push(callback);\n            return this;\n          },\n          fail: function (callback) {\n            this.rejected.push(callback);\n            return this;\n          }\n        };\n        return Deferred;\n      })(),\n\n      camelToSnake: function camelToSnake(str) {\n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      },\n\n      /**\n       * @function validateURL\n       *\n       * @param {string} url\n       * @returns\n       */\n      validateURL: function validateURL(url) {\n        return /(http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/.test(\n          url\n        );\n      },\n\n      /**\n       * @function generateElement\n       * Generates DOM element\n       *\n       * @param {string} source\n       * @param {object} attributes\n       * @param {string} html\n       * @returns HTMLElement\n       */\n      generateElement: function generateElement(type, attributes, html) {\n        var el = document.createElement(type);\n        Object.keys(attributes || {}).forEach(function (type) {\n          el.setAttribute(type, attributes[type]);\n        });\n        if (html) {\n          el.innerHTML = html;\n        }\n        return el;\n      },\n\n      /**\n       * @function generateEmbed\n       * Generates Embed Container\n       *\n       * @param {string} source\n       * @param {string} html\n       * @returns\n       */\n      generateEmbed: function generateEmbed(id, source, html) {\n        id = id || Embedo.utils.uuid();\n        var container = document.createElement('div');\n\n        container.setAttribute('id', id);\n        container.setAttribute('data-embedo-id', id);\n        container.setAttribute('data-embedo-source', source);\n\n        if (Embedo.utils.validateElement(html)) {\n          container.appendChild(html);\n        } else {\n          container.innerHTML = html || '';\n        }\n\n        return container;\n      },\n\n      /**\n       * @function generateScript\n       * Generates script tag element\n       *\n       * @param {string} source\n       * @returns HTMLElement\n       */\n      generateScript: function generateScript(source) {\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = encodeURI(source);\n        script.setAttribute('async', '');\n        script.setAttribute('charset', 'utf-8');\n        return script;\n      },\n\n      /**\n       * @function validateElement\n       * Validates if passed argument is valid DOM element\n       *\n       * @param {object} obj\n       * @returns HTMLElement\n       */\n      validateElement: function validateElement(obj) {\n        return typeof HTMLElement === 'object' ?\n          obj instanceof window.HTMLElement :\n          obj &&\n          typeof obj === 'object' &&\n          obj !== null &&\n          obj.nodeType === 1 &&\n          typeof obj.nodeName === 'string';\n      },\n\n      /**\n       * @function sdkReady\n       * Checks when SDK global object is ready\n       *\n       * @param {string} type\n       * @param {function} callback\n       */\n      sdkReady: function sdkReady(type, callback) {\n        callback = callback || function () {};\n        if (!Embedo.defaults.SOURCES[type]) {\n          return callback(new Error('unsupported_sdk_type'));\n        }\n        var counter = 0;\n        (function check() {\n          counter++;\n          if (counter > 15) {\n            return callback(new Error(type + ':sdk_not_available'));\n          }\n          if (window[Embedo.defaults.SOURCES[type].GLOBAL]) {\n            return callback(null, window[Embedo.defaults.SOURCES[type].GLOBAL]);\n          }\n          setTimeout(check, 10 * counter);\n        })(type);\n      },\n\n      /**\n       * @function querystring\n       * Object to Query String\n       *\n       * @param {object} obj\n       * @returns {string}\n       */\n      querystring: function querystring(obj) {\n        var parts = [];\n\n        for (var i in obj) {\n          if (obj.hasOwnProperty(i)) {\n            parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n          }\n        }\n\n        return parts.join('&');\n      },\n\n      /**\n       * @function fetch\n       * JSONP XHR fetch\n       *\n       * @param {string} url\n       * @param {object} options\n       * @param {function} callback\n       */\n      fetch: function fetch(url, options, callback) {\n        if (typeof options === 'function') {\n          callback = options;\n          options = {};\n        }\n        options = options || {};\n        options.callback = options.callback || 'callback';\n        var target = document.head || document.getElementsByTagName('head')[0];\n        var script = document.createElement('script');\n        var jsonpCallback = 'jsonp_' + Embedo.utils.uuid();\n        url += (~url.indexOf('?') ? '&' : '?') + options.callback + '=' + encodeURIComponent(jsonpCallback);\n        url = url.replace('?&', '?');\n\n        window[jsonpCallback] = function (data) {\n          clear(jsonpCallback, script);\n          callback(null, data);\n        };\n\n        script.type = 'text/javascript';\n        script.defer = true;\n        script.charset = 'UTF-8';\n        script.onerror = function (err) {\n          clear(jsonpCallback, script);\n          return callback(err);\n        };\n        target.appendChild(script);\n        script.src = url;\n\n        function clear(jsonpCallback, script) {\n          try {\n            delete window[jsonpCallback];\n          } catch (e) {\n            window[jsonpCallback] = undefined;\n          }\n          if (script) {\n            target.removeChild(script);\n            script = undefined;\n          }\n        }\n      },\n\n      /**\n       * XHR HTTP Requests\n       *\n       * @param {string} url\n       * @param {object} options\n       * @param {Function} callback\n       */\n      ajax: function ajax(url, options, callback) {\n        if (typeof options === 'function') {\n          callback = options;\n          options = {};\n        }\n        callback = callback || function () {};\n        var xhr = new XMLHttpRequest();\n        xhr.onload = function () {\n          if (xhr.status >= 400) {\n            return callback(new Error(xhr.responseText || xhr.statusText));\n          }\n          try {\n            return callback(null, JSON.parse(xhr.responseText));\n          } catch (e) {\n            return callback(new Error('invalid_response'));\n          }\n        };\n        xhr.onerror = function (err) {\n          return callback(err);\n        };\n        xhr.open('GET', url);\n        xhr.send();\n      },\n\n      /**\n       * @function transform\n       * Cross Browser CSS Transformation\n       *\n       * @param {HTMLElement} element\n       * @param {string} props\n       */\n      transform: function transform(element, props) {\n        if (!Embedo.utils.validateElement(element)) {\n          return;\n        }\n        element.style.webkitTransform = props;\n        element.style.MozTransform = props;\n        element.style.msTransform = props;\n        element.style.OTransform = props;\n        element.style.transform = props;\n      },\n\n      /**\n       * @function compute\n       * Computes property value of HTMLElement\n       *\n       * @param {HTMLElement} el\n       * @param {string} prop\n       * @param {Boolean} stylesheet\n       * @returns {Number}\n       */\n      compute: function compute(el, prop, is_computed) {\n        if (!Embedo.utils.validateElement(el) || !prop) {\n          return;\n        }\n\n        var bounds = el.getBoundingClientRect();\n        var value = bounds[prop];\n\n        if (is_computed || !value) {\n          if (document.defaultView && document.defaultView.getComputedStyle) {\n            value = document.defaultView.getComputedStyle(el, '').getPropertyValue(prop);\n          } else if (el.currentStyle) {\n            prop = prop.replace(/\\-(\\w)/g, function (m, p) {\n              return p.toUpperCase();\n            });\n            value = el.currentStyle[prop];\n          }\n        }\n\n        if (typeof value === 'string' && !/^\\d+(\\.\\d+)?%$/.test(value)) {\n          value = value.replace(/[^\\d.-]/g, '');\n        }\n\n        return isNaN(Number(value)) ? value : Number(value);\n      },\n\n      /**\n       * @method convertToPx\n       * Calculates approximate pixel value for vw, vh or % values\n       *\n       * @implements relative_px\n       * @implements percent_px\n       */\n      convertToPx: function convertToPx(el, prop, value) {\n        if (!isNaN(Number(value))) {\n          return Number(value);\n        } else if (/^\\d+(\\.\\d+)?%$/.test(value)) {\n          return percent_px(el, prop, value);\n        } else if (value.match(/(vh|vw)/)) {\n          var dimension = value.replace(/[0-9]/g, '');\n          return relative_px(dimension, value);\n        }\n\n        // Converts vw or vh to PX\n        function relative_px(type, value) {\n          var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.body,\n            x = w.innerWidth || e.clientWidth || g.clientWidth,\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n          if (type === 'vw') {\n            return (x * parseFloat(value)) / 100;\n          } else if (type === 'vh') {\n            return (y * parseFloat(value)) / 100;\n          } else {\n            return undefined;\n          }\n        }\n\n        // Converts % to PX\n        function percent_px(el, prop, percent) {\n          var parent_width = Embedo.utils.compute(el.parentNode, prop, true);\n          percent = parseFloat(percent);\n          return parent_width * (percent / 100);\n        }\n      },\n\n      /**\n       * @function watcher\n       *\n       * @param {string} Identifer\n       * @param {Function} Function to Trigger\n       * @param {integer} timer\n       *\n       * @returns {Function}\n       */\n      watcher: function watcher(id, fn, timer) {\n        window.EMBEDO_WATCHER = window.EMBEDO_WATCHER || {};\n        window.EMBEDO_WATCHER[id] = window.EMBEDO_WATCHER[id] || {\n          id: id,\n          count: 0,\n          request: null\n        };\n\n        if (window.EMBEDO_WATCHER[id].count > 0 && window.EMBEDO_WATCHER[id].request) {\n          window.EMBEDO_WATCHER[id].count -= 1;\n          clearTimeout(window.EMBEDO_WATCHER[id].request);\n        }\n\n        window.EMBEDO_WATCHER[id].count += 1;\n        window.EMBEDO_WATCHER[id].request = setTimeout(function () {\n          window.EMBEDO_WATCHER[id].count -= 1;\n          if (window.EMBEDO_WATCHER[id].count === 0) {\n            fn.call();\n          }\n        }, timer);\n\n        return null;\n      },\n\n      /**\n       * @function dimensions\n       *\n       * @param {HTMLElement} el\n       * @param {string} width\n       * @param {string} height\n       *\n       * @returns {object{width,height}}\n       */\n      dimensions: function dimensions(el, width, height) {\n        var el_width = Embedo.utils.compute(el, 'width');\n        width = width ?\n          width :\n          el_width > 0 ?\n          el_width :\n          Embedo.utils.compute(el.parentNode, 'width');\n        height = height ?\n          height :\n          el_width > 0 ?\n          el_width / 1.5 :\n          Embedo.utils.compute(el.parentNode, 'height');\n        return {\n          width: width,\n          height: height\n        };\n      },\n\n      /**\n       * @function centerize\n       * Align an element center in relation to parent div\n       *\n       * @param {HTMLElement} parent_el\n       * @param {HTMLElement} child_el\n       * @param {object} options\n       * @returns\n       */\n      centerize: function centerize(parent_el, child_el, options) {\n        Embedo.log('info', 'centerize', parent_el, child_el, options);\n        if (!Embedo.utils.validateElement(parent_el) || !Embedo.utils.validateElement(child_el)) {\n          return;\n        }\n        options = options || {};\n\n        if (options.width) {\n          parent_el.style.width = options.width;\n          parent_el.style.maxWidth = options.width;\n          parent_el.style.marginLeft = 'auto';\n          parent_el.style.marginRight = 'auto';\n        }\n\n        if (options.height) {\n          parent_el.style.height = options.height;\n          parent_el.style.maxHeight = options.height;\n        }\n\n        child_el.style.display = '-moz-box';\n        child_el.style.display = '-ms-flexbox';\n        child_el.style.display = '-webkit-flex';\n        child_el.style.display = '-webkit-box';\n        child_el.style.display = 'flex';\n        child_el.style.textAlign = 'center';\n        child_el.style['justify-content'] = 'center';\n        child_el.style['align-items'] = 'center';\n        child_el.style.margin = '0 auto';\n      },\n\n      /**\n       * @function handleScriptValidation\n       *\n       * @param {string} url\n       */\n      handleScriptValidation: function handleScriptValidation(url) {\n        if (!url) {\n          return;\n        }\n        url = url.split('#')[0];\n        var scripts = document.getElementsByTagName('script');\n        for (var i = scripts.length; i--;) {\n          if (scripts[i].src === url) {\n            return true;\n          }\n        }\n        return false;\n      }\n    }),\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  /**\n   * Embedo Event Listeners\n   * @private\n   *\n   * @implements on\n   * @implements off\n   * @implements emit\n   */\n  Object.defineProperties(Embedo.prototype, {\n    on: {\n      value: function (event, listener) {\n        if (typeof this.events[event] !== 'object') {\n          this.events[event] = [];\n        }\n        this.events[event].push(listener);\n      },\n      writable: false,\n      configurable: false\n    },\n    off: {\n      value: function (event, listener) {\n        var index;\n        if (typeof this.events[event] === 'object') {\n          index = this.events[event].indexOf(listener);\n          if (index > -1) {\n            this.events[event].splice(index, 1);\n          }\n        }\n      },\n      writable: false,\n      configurable: false\n    },\n    emit: {\n      value: function (event) {\n        var i,\n          listeners,\n          length,\n          args = [].slice.call(arguments, 1);\n        if (typeof this.events[event] === 'object') {\n          listeners = this.events[event].slice();\n          length = listeners.length;\n\n          for (i = 0; i < length; i++) {\n            listeners[i].apply(this, args);\n          }\n        }\n      },\n      writable: false,\n      configurable: false\n    },\n    once: {\n      value: function (event, listener) {\n        this.on(event, function g() {\n          this.off(event, g);\n          listener.apply(this, arguments);\n        });\n      },\n      writable: false,\n      configurable: false\n    }\n  });\n\n  /**\n   * @method init\n   * Primary Embedo initialization\n   *\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.init = function (options) {\n    Embedo.log('info', 'init', this.requests, options);\n\n    // Append enabled SDKs to DOM\n    Object.keys(Embedo.defaults.SOURCES).forEach(function (source) {\n      if (Embedo.defaults.SOURCES[source].SDK) {\n        appendSDK(source, options[source]);\n      }\n    });\n\n    this.domify();\n\n    /**\n     * @func appendSDK\n     * Injects SDK's to body\n     * @private\n     *\n     * @param {*} type\n     * @param {*} props\n     */\n    function appendSDK(type, props) {\n      if (!type || !props) {\n        return;\n      }\n      var sdk = Embedo.utils.replacer(Embedo.defaults.SOURCES[type.toLowerCase()].SDK, {\n        locale: props.locale || window.navigator.language || 'en_US'\n      });\n\n      if (!Embedo.utils.handleScriptValidation(sdk)) {\n        if (props && typeof props === 'object') {\n          sdk += (type === 'facebook' ? '#' : '?') + Embedo.utils.querystring(props);\n        }\n        document.body.appendChild(Embedo.utils.generateScript(sdk));\n      }\n    }\n  };\n\n  /**\n   * @method domify\n   * Replaces \"data-embedo-*\" elements during initialization.\n   */\n  Embedo.prototype.domify = function domify() {\n    var embedos = document.querySelectorAll('[data-embedo-url]');\n    [].forEach.call(embedos, function (embedo_el) {\n      var options = Object.keys(embedo_el.dataset || {}).reduce(function (acc, cur) {\n        if (cur.indexOf('embedo') !== -1) {\n          var option = Embedo.utils.camelToSnake(cur).replace('embedo-', '');\n          acc[option] = embedo_el.dataset[cur];\n        }\n        return acc;\n      }, {});\n\n      this.render(embedo_el, options.url, options);\n    }.bind(this));\n  };\n\n  /**\n   * @method facebook\n   * Facebook embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.facebook = function facebook(id, element, url, options, callback) {\n    var type, fb_html_class;\n\n    if (/^([^\\/?].+\\/)?post|photo(s|\\.php)[\\/?].*$/gm.test(url)) {\n      type = url.match(/comment_id|reply_comment_id/) ? 'comment' : 'post';\n    } else if (/^([^\\/?].+\\/)?video(s|\\.php)[\\/?].*$/gm.test(url)) {\n      type = 'video';\n    }\n\n    if (type && type.match(/post|video/)) {\n      var embed_uri = Embedo.utils.replacer(Embedo.defaults.SOURCES.facebook.oEmbed, {\n        type: type\n      });\n      var query = Embedo.utils.merge({\n          url: encodeURI(url),\n          omitscript: true\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      );\n\n      if ('width' in options || 'maxwidth' in options) {\n        query.maxwidth = options.maxwidth || options.width;\n      }\n\n      embed_uri += '?' + Embedo.utils.querystring(query);\n\n      Embedo.utils.fetch(embed_uri, function (error, content) {\n        if (error) {\n          Embedo.log('error', 'facebook', error);\n          return callback(error);\n        }\n        handleFacebookEmbed(content.html);\n      });\n    } else {\n      if (type === 'comment' || url.match(/comment_id|reply_comment_id/)) {\n        fb_html_class = 'fb-comment-embed';\n        options['data-numposts'] = options['data-numposts'] || 5;\n      } else if (url.match(/plugins\\/comments/)) {\n        fb_html_class = 'fb-comments';\n      } else {\n        fb_html_class = 'fb-page';\n        options['data-height'] =\n          options['data-height'] || options.maxheight || options.height || 500;\n      }\n\n      var fb_html = Embedo.utils.generateElement(\n        'div',\n        Embedo.utils.merge({\n            class: fb_html_class,\n            'data-href': url,\n            'data-width': options['data-width'] || options.maxwidth || options.width || 350\n          },\n          options\n        )\n      );\n\n      fb_html.removeAttribute('width');\n      fb_html.removeAttribute('height');\n      handleFacebookEmbed(fb_html);\n    }\n\n    function handleFacebookEmbed(html) {\n      var container = Embedo.utils.generateEmbed(id, 'facebook', html);\n      element.appendChild(container);\n\n      facebookify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    }\n  };\n\n  /**\n   * Twitter embed prototype\n   * @method twitter\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.twitter = function twitter(id, element, url, options, callback) {\n    var embed_uri = Embedo.defaults.SOURCES.twitter.oEmbed;\n    var query = Embedo.utils.merge({\n        url: encodeURI(url),\n        omit_script: 1\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n\n    if ('width' in options || 'maxwidth' in options) {\n      query.maxwidth = options.maxwidth || options.width;\n    }\n\n    if ('height' in options || 'maxheight' in options) {\n      query.maxheight = options.maxheight || options.height;\n    }\n\n    embed_uri += '?' + Embedo.utils.querystring(query);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'twitter', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'twitter', content.html);\n      element.appendChild(container);\n\n      twitterify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    });\n  };\n\n  /**\n   * @method instagram\n   * Instagram embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.instagram = function (id, element, url, options, callback) {\n    var embed_uri = Embedo.defaults.SOURCES.instagram.oEmbed;\n    var query = Embedo.utils.merge({\n        url: encodeURI(url),\n        omitscript: true,\n        hidecaption: true\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n\n    if ('width' in options || 'maxwidth' in options) {\n      options.width = options.maxwidth ? options.maxwidth : options.width;\n      if (options.width > 320) {\n        query.maxwidth = options.width;\n      }\n    }\n\n    embed_uri += '?' + Embedo.utils.querystring(query);\n\n    var method = options.jsonp ? 'jsonp' : 'ajax';\n\n    Embedo.utils[method](embed_uri, function (err, content) {\n      if (err) {\n        Embedo.log('error', 'instagram', err);\n        // If oembed or instagram embed script is unavailable.\n        if (options.jsonp === undefined || options.jsonp === null) {\n          var extracted_url = url.match(Embedo.defaults.SOURCES.instagram.REGEX);\n          url = extracted_url && extracted_url.length > 0 ? extracted_url[0].replace(/\\/$/, '') : url;\n          return this.iframe(id, element, url + '/embed/', options, callback);\n        }\n        return callback(err);\n      }\n\n      var container = Embedo.utils.generateEmbed(id, 'instagram', content.html);\n      element.appendChild(container);\n\n      instagramify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    }.bind(this));\n  };\n\n  /**\n   * @method youtube\n   * YouTube embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.youtube = function (id, element, url, options, callback) {\n    if (!getYTVideoID(url)) {\n      Embedo.log('error', 'youtube', 'Unable to detect Youtube video id.');\n      return callback('Unable to detect Youtube video id.');\n    }\n\n    var youtube_uri = Embedo.defaults.SOURCES.youtube.oEmbed + getYTVideoID(url);\n    youtube_uri += '?' + Embedo.utils.querystring(\n      Embedo.utils.merge({\n          modestbranding: 1,\n          autohide: 1,\n          showinfo: 0\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      )\n    );\n\n    this.iframe(id, element, youtube_uri, options, callback);\n\n    /**\n     * @func getYTVideoID\n     * @private\n     *\n     * @param {string} url\n     * @returns {String|Boolean}\n     */\n    function getYTVideoID(url) {\n      var regexp = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i;\n      var match = url.match(regexp);\n      return match && match.length === 2 ? match[1] : false;\n    }\n  };\n\n  /**\n   * @method vimeo\n   * Vimeo embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.vimeo = function (id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var embed_options = Embedo.utils.merge({\n        url: url,\n        width: size.width,\n        height: size.height,\n        autohide: 1\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n    var embed_uri =\n      Embedo.defaults.SOURCES.vimeo.oEmbed + '?' + Embedo.utils.querystring(embed_options);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'vimeo', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'vimeo', content.html);\n      element.appendChild(container);\n\n      callback(null, {\n        id: id,\n        el: element,\n        width: size.width,\n        height: size.height\n      });\n    });\n  };\n\n  /**\n   * @method pinterest\n   * Pinterest Embed\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.pinterest = function (id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var pin_size = size.width > 600 ? 'large' : size.width < 345 ? 'small' : 'medium';\n    var pin_el = Embedo.utils.generateElement(\n      'a',\n      Embedo.utils.merge({\n          href: url,\n          'data-pin-do': options['data-pin-do'] || 'embedPin',\n          'data-pin-lang': options['data-pin-lang'] || 'en',\n          'data-pin-width': pin_size\n        },\n        options\n      )\n    );\n    var container = Embedo.utils.generateEmbed(id, 'pinterest', pin_el);\n\n    element.appendChild(container);\n\n    pinterestify(\n      element,\n      container, {\n        id: id,\n        url: url,\n        strict: options.strict,\n        width: options.width,\n        height: options.height,\n        centerize: options.centerize\n      },\n      function (err, result) {\n        if (err) {\n          Embedo.log('error', 'pinterest', err);\n          return callback(err);\n        }\n        callback(null, {\n          id: id,\n          el: element,\n          width: result.width,\n          height: result.height\n        });\n      }\n    );\n  };\n\n  /**\n   * @method github\n   * Embed github URLs (gist) to DOM\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.github = function github(id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var iframe = Embedo.utils.generateElement('iframe',\n      Embedo.utils.merge({\n          width: size.width,\n          height: size.height\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      )\n    );\n    var container = Embedo.utils.generateEmbed(id, 'github', iframe);\n\n    element.appendChild(container);\n    iframe.contentWindow.document.open();\n    iframe.contentWindow.document.write(\n      '<body><style type=\"text/css\">body,html{margin:0;padding:0;border-radius:3px;}' +\n      '.gist .gist-file{margin:0 !important;padding:0;}</style>' +\n      '<script src=\"' + url + '\"></script>' +\n      '</body>'\n    );\n    iframe.contentWindow.document.close();\n    iframe.onerror = function (err) {\n      callback(err);\n    };\n    iframe.addEventListener(\"load\", function (event) {\n      callback(null, {\n        id: id,\n        el: element,\n        event: event,\n        width: Embedo.utils.compute(container, 'width'),\n        height: Embedo.utils.compute(container, 'height')\n      });\n    });\n  };\n\n  /**\n   * @method soundcloud\n   * SoundCloud Embed Player (api-web) prototype\n   *\n   * @see https://developers.soundcloud.com/docs/oembed\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.soundcloud = function (id, element, url, options, callback) {\n    if (options.hasOwnProperty('width') && options.width) {\n      options.maxwidth = options.maxwidth || options.width || '100%';\n    }\n    if (options.hasOwnProperty('height') && options.height) {\n      options.maxheight = options.maxheight || options.height;\n    }\n    var size = Embedo.utils.dimensions(element, options.maxwidth, options.maxheight);\n    var embed_options = Embedo.utils.merge({\n        url: encodeURI(url),\n        format: 'js' // Defaults JSONP\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n    var embed_uri =\n      Embedo.defaults.SOURCES.soundcloud.oEmbed + '?' + Embedo.utils.querystring(embed_options);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'soundcloud', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'soundcloud', content.html);\n      element.appendChild(container);\n\n      callback(null, {\n        id: id,\n        el: element,\n        width: size.width,\n        height: size.height\n      });\n    });\n  };\n\n  /**\n   * @method iframe\n   * Embed URLs to HTML5 frame prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.iframe = function (id, element, url, options, callback) {\n    var fragment = document.createDocumentFragment();\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var extension = (url.substr(url.lastIndexOf('.')) || '').replace('.', '').toLowerCase();\n    var mimes = {\n      csv: 'text/csv',\n      pdf: 'application/pdf',\n      gif: 'image/gif',\n      js: 'application/javascript',\n      json: 'application/json',\n      xhtml: 'application/xhtml+xml',\n      pps: 'application/vnd.ms-powerpoint',\n      ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n      xml: 'application/xml',\n      ogg: 'video/ogg',\n      mp4: 'video/mp4',\n      webm: 'video/webm',\n      html: 'text/html'\n    };\n    var mimetype = mimes[extension] || mimes.html;\n    var has_video = extension.match(/(mp4|ogg|webm|ogv|ogm)/);\n    var el_type = has_video ? 'video' : options.tagName || 'embed';\n    var override = Embedo.utils.merge({}, options, Embedo.defaults.RESTRICTED);\n    var embed_el = Embedo.utils.generateElement(el_type,\n      Embedo.utils.merge({\n          type: mimetype,\n          src: url,\n          width: size.width,\n          height: size.height\n        },\n        override\n      )\n    );\n\n    fragment.appendChild(Embedo.utils.generateEmbed(id, 'iframe', embed_el));\n    element.appendChild(fragment);\n\n    if (el_type === 'video') {\n      setTimeout(function () {\n        callback(null, {\n          id: id,\n          el: element,\n          width: Embedo.utils.compute(embed_el, 'width'),\n          height: Embedo.utils.compute(embed_el, 'height')\n        });\n      }, 250);\n    } else {\n      embed_el.onerror = function (err) {\n        callback(err);\n      };\n      embed_el.addEventListener(\"load\", function (event) {\n        callback(null, {\n          id: id,\n          el: element,\n          event: event,\n          width: Embedo.utils.compute(embed_el, 'width'),\n          height: Embedo.utils.compute(embed_el, 'height')\n        });\n      });\n    }\n  };\n\n  /**\n   * @method render\n   * Renders an embedo instance\n   *\n   * @name load\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.render = function (element, url, options, callback) {\n    Embedo.log('info', 'render', element, url, options);\n    options = options || {};\n    callback = callback || function () {};\n\n    if (!element || !Embedo.utils.validateElement(element)) {\n      Embedo.log('info', 'render', '`element` is either missing or invalid');\n      return this.emit('error', new Error('element_is_missing'));\n    }\n\n    if (typeof url !== 'string') {\n      return this.emit('error', new Error('invalid_url_string'));\n    }\n\n    if (!url || !Embedo.utils.validateURL(url)) {\n      Embedo.log('info', 'render', '`url` is either missing or invalid');\n      return this.emit('error', new Error('invalid_or_missing_url'));\n    }\n\n    var source = getURLSource(url);\n\n    if (!source) {\n      Embedo.log('info', 'render', new Error('Invalid or Unsupported URL'));\n      return this.emit('error', new Error('url_not_supported'));\n    }\n\n    if (!this[source]) {\n      Embedo.log('info', 'render', new Error('Requested source is not implemented or missing.'));\n      return this.emit('error', new Error('unrecognised_url'));\n    }\n\n    if ('width' in options && options.width) {\n      options.width = Embedo.utils.convertToPx(element, 'width', options.width);\n    }\n\n    if ('height' in options && options.height) {\n      options.height = Embedo.utils.convertToPx(element, 'height', options.height);\n    }\n\n    var id = Embedo.utils.uuid();\n    var request = {\n      id: id,\n      el: element,\n      source: source,\n      url: url,\n      attributes: options\n    };\n\n    this.requests.push(request);\n\n    this.emit('watch', 'load', request);\n\n    this[source](id, element, url, options,\n      function (err, data) {\n        if (err) {\n          this.emit('error', err);\n          return callback(err);\n        }\n        data.url = request.url;\n        data.source = request.source;\n        data.options = request.attributes;\n\n        this.emit('watch', 'loaded', data);\n        callback(null, data);\n      }.bind(this)\n    );\n\n    /**\n     * @function getURLSource\n     * Checks Source from URI\n     *\n     * @param {string} url\n     * @returns {string}\n     */\n    function getURLSource(url) {\n      var urlRegExp = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/;\n      var sources = Object.keys(Embedo.defaults.SOURCES) || [];\n\n      if (!urlRegExp.test(url)) {\n        return null;\n      }\n\n      var matched_source = sources\n        .filter(function (source) {\n          if (Embedo.defaults.SOURCES[source] && url.match(Embedo.defaults.SOURCES[source].REGEX)) {\n            return source;\n          }\n        })\n        .filter(Boolean);\n\n      return matched_source && matched_source.length ? matched_source[0] : 'iframe';\n    }\n  };\n\n  /**\n   * @method load\n   * Loads single or multiple embedo instances\n   *\n   * @name load\n   * @param {HTMLElement} element\n   * @param {String|Array} urls\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.load = function (element, urls, options) {\n    Embedo.log('info', 'load', element, urls, options);\n    options = options || {};\n    var observer = new Embedo.utils.observer();\n\n    if (!element || !Embedo.utils.validateElement(element)) {\n      Embedo.log('info', 'load', '`element` is either missing or invalid');\n      this.emit('error', new Error('element_is_missing'));\n    } else {\n      if (urls instanceof Array) {\n        var reqs = {\n          failed: [],\n          finished: []\n        };\n        var jobs = urls.map(\n          function (url) {\n            return function (done) {\n              this.render(element, url, options, function (err, data) {\n                if (err) {\n                  reqs.failed.push(err);\n                  return done(err);\n                }\n                reqs.finished.push(data);\n                done(null, data);\n              });\n            }.bind(this);\n          }.bind(this)\n        );\n\n        Embedo.utils.sequencer.apply(this, jobs).then(function () {\n          if (reqs.failed.length > 0) {\n            return observer.reject(reqs.failed);\n          }\n          observer.resolve(reqs.finished);\n        });\n      } else if (typeof urls === 'string') {\n        this.render(element, urls, options, function (err, data) {\n          if (err) {\n            return observer.reject(err);\n          }\n          observer.resolve(data);\n        });\n      } else {\n        this.emit('error', new Error('invalid_url_string'));\n      }\n    }\n\n    return observer;\n  };\n\n  /**\n   * @method refresh\n   * Refresh single or all embedo instances\n   *\n   * @param {object} element\n   */\n  Embedo.prototype.refresh = function (element) {\n    Embedo.log('info', 'refresh', this.requests, element);\n    if (this.requests.length === 0) {\n      return;\n    }\n    this.requests.forEach(\n      function (request) {\n        if (!request.el) {\n          return;\n        }\n\n        if (request.source === 'iframe') {\n          return this.emit('refresh', request, {\n            width: Embedo.utils.compute(request.el, 'width'),\n            height: Embedo.utils.compute(request.el, 'height')\n          });\n        }\n\n        if (element) {\n          if (!Embedo.utils.validateElement(element)) {\n            return;\n          }\n          if (element === request.el) {\n            automagic(\n              request.el,\n              document.getElementById(request.id),\n              request.attributes,\n              function (err, data) {\n                if (data) {\n                  this.emit('refresh', request, data);\n                }\n              }.bind(this)\n            );\n          }\n        } else {\n          automagic(\n            request.el,\n            document.getElementById(request.id),\n            request.attributes,\n            function (err, data) {\n              if (data) {\n                this.emit('refresh', request, data);\n              }\n            }.bind(this)\n          );\n        }\n      }.bind(this)\n    );\n\n    return this;\n  };\n\n  /**\n   * @method destroy\n   * Destroy an/all instance(s) of embedo\n   *\n   * @param {object} element\n   */\n  Embedo.prototype.destroy = function (element) {\n    Embedo.log('warn', 'destroy', this.requests, element);\n    if (this.requests.length === 0) {\n      return;\n    }\n    var removed = [];\n\n    this.requests.forEach(\n      function (request) {\n        if (!request.el || !Embedo.utils.validateElement(request.el)) {\n          return;\n        }\n        if (element) {\n          if (!Embedo.utils.validateElement(element)) {\n            return;\n          }\n          if (element === request.el) {\n            if (document.getElementById(request.id)) {\n              document.getElementById(request.id).remove();\n            }\n            removed.push(request.id);\n            this.emit('destroy', request);\n          }\n        } else {\n          if (document.getElementById(request.id)) {\n            document.getElementById(request.id).remove();\n          }\n          removed.push(request.id);\n          this.emit('destroy', request);\n        }\n      }.bind(this)\n    );\n\n    this.requests = this.requests.filter(function (request) {\n      return removed.indexOf(request.id) < 0;\n    });\n\n    return this;\n  };\n\n  /**\n   * @function facebookify\n   * Parses Facebook SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function facebookify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('facebook', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      window.FB.XFBML.parse(parentNode);\n      window.FB.Event.subscribe('xfbml.render', function () {\n        // First state will be `parsed` and then `rendered` to acknowledge embed.\n        if (childNode.firstChild) {\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          if (childNode.firstChild.getAttribute('fb-xfbml-state') === 'rendered') {\n            automagic(parentNode, childNode, options, callback);\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * @function twitterify\n   * Parses Twitter SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function twitterify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('twitter', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      window.twttr.widgets.load(childNode);\n      window.twttr.events.bind('rendered', function (event) {\n        if (\n          childNode.firstChild &&\n          childNode.firstChild.getAttribute('id') === event.target.getAttribute('id')\n        ) {\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          automagic(parentNode, childNode, options, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * @function instagramify\n   * Parses Instagram SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function instagramify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('instagram', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      if (!window.instgrm.Embeds || !window.instgrm.Embeds) {\n        return callback(new Error('instagram_sdk_missing'));\n      }\n\n      window.instgrm.Embeds.process(childNode);\n      var instagram_embed_timer = setInterval(handleInstagramRendered, 250);\n\n      function handleInstagramRendered() {\n        if (\n          childNode.firstChild &&\n          childNode.firstChild.className.match(/instagram-media-rendered/)\n        ) {\n          clearInterval(instagram_embed_timer);\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          return automagic(parentNode, childNode, options, callback);\n        }\n      }\n    });\n  }\n\n  /**\n   * @function pinterestify\n   * Parses Pinterest SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function pinterestify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('pinterest', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      if (!window.PinUtils || !window.PinUtils || !childNode || !childNode.firstChild) {\n        return callback(new Error('pinterest_sdk_missing'));\n      }\n\n      setTimeout(function () {\n        if (!childNode.querySelector('[data-pin-href]')) {\n          window.PinUtils.build(childNode);\n        }\n\n        var pinterest_embed_timer_count = 0;\n        var pinterest_embed_timer = setInterval(function () {\n          pinterest_embed_timer_count += 1;\n          if (childNode.querySelector('[data-pin-href]')) {\n            clearInterval(pinterest_embed_timer);\n            if (options.centerize !== false) {\n              Embedo.utils.centerize(parentNode, childNode, options);\n            }\n            return automagic(parentNode, childNode, options, callback);\n          } else if (pinterest_embed_timer_count >= 20) {\n            clearInterval(pinterest_embed_timer);\n            return callback(new Error('pinterest_embed_failed'));\n          }\n        }, 250);\n      }, 750);\n    });\n  }\n\n  /**\n   * @function automagic\n   * Automagic - Scales and resizes embed container\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function automagic(parentNode, childNode, options, callback) {\n    Embedo.log('info', 'automagic', parentNode, childNode, options);\n    options = options || {};\n    callback = callback || function () {};\n\n    if (!Embedo.utils.validateElement(parentNode) || !Embedo.utils.validateElement(childNode)) {\n      return callback(new Error('HTMLElement does not exist in DOM.'));\n    }\n\n    Embedo.utils.watcher(\n      options.id || Embedo.utils.uuid(),\n      function () {\n        var parent = {\n          width: options.width || Embedo.utils.compute(parentNode, 'width'),\n          height: options.height || Embedo.utils.compute(parentNode, 'height')\n        };\n        var child = {\n          width: Embedo.utils.compute(childNode, 'width'),\n          height: Embedo.utils.compute(childNode, 'height')\n        };\n\n        if (options.strict) {\n          return callback(null, {\n            width: parent.width,\n            height: parent.height\n          });\n        }\n\n        // Odd case when requested height is beyond limit of third party\n        // Only apply when fixed width and heights are provided\n        if (options.width && options.height) {\n          var isOverflowing = child.width > parent.width || child.height > parent.height;\n\n          if (options.width) {\n            childNode.style.width = options.width + 'px';\n          }\n\n          if (options.height) {\n            childNode.style.height = options.height + 'px';\n          }\n\n          if (isOverflowing) {\n            var scale = Math.min(parent.width / child.width, parent.height / child.height);\n            Embedo.utils.transform(childNode, 'scale(' + scale + ')');\n          }\n        }\n\n        callback(null, {\n          width: parent.width,\n          height: parent.height\n        });\n      },\n      500\n    );\n  }\n\n  return Embedo;\n});\n","/**\n * filer v1.0.5\n * (c) 2018 SMB\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.filer = factory());\n}(this, (function () { 'use strict';\n\nvar assign = function (target) {\n  var varArgs = [], len = arguments.length - 1;\n  while ( len-- > 0 ) varArgs[ len ] = arguments[ len + 1 ];\n\n  if (typeof Object.assign == 'function') {\n    return Object.assign.apply(Object, [target ].concat( varArgs))\n  }\n\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object')\n  }\n\n  var to = Object(target);\n\n  for (var index = 0; index < varArgs.length; index++) {\n    var nextSource = varArgs[index];\n\n    if (nextSource != null) {\n      for (var nextKey in nextSource) {\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n\n  return to\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\nInvalidCharacterError.prototype = new Error;\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n// encoder\n// [https://gist.github.com/999166] by [https://github.com/nignag]\nvar b2a$1 = function (input) {\n  var str = String(input);\n  var out = '';\n\n  for (\n    // initialize result and counter\n    var block = (void 0), charCode = (void 0), idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    out += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new InvalidCharacterError(\"'b2a' failed: The string to be encoded contains characters outside of the Latin1 range.\")\n    }\n    block = block << 8 | charCode;\n  }\n\n  return out\n};\n\n// decoder\n// [https://gist.github.com/1020396] by [https://github.com/atk]\nvar a2b$1 = function (input) {\n  var str = String(input).replace(/=+$/, '');\n  var out = '';\n\n  if (str.length % 4 === 1) {\n    throw new InvalidCharacterError(\"'a2b' failed: The string to be decoded is not correctly encoded.\")\n  }\n\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0;\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? out += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n\n  return out\n};\n\nvar b64 = {\n  b2a: b2a$1,\n  a2b: a2b$1,\n};\n\nvar b2a = function (s) { return b64.b2a(s).replace(/[/+]/g, function (m) { return ({'/': '_', '+': '-'})[m]; }); };\n\nvar a2b = function (s) { return b64.a2b(s.replace(/[-_]/g, function (m) { return ({'-': '+', '_': '/'})[m]; })); };\n\nvar basename = function (path) { return (path || '').match(/[^/]*$/)[0]; };\n\nvar dirname = function (path) { return path.substring(0, path.length - basename(path).length).replace(/\\/$/, ''); };\n\nvar splitExt = function (path) {\n  var m = path.match(/\\.\\w+$/);\n  var ext = (m && m[0]) || '';\n  return [path.substr(0, path.length - ext.length), ext]\n};\n\nvar urlPat = /^(.*:?\\/\\/[^/]+)?(\\/?[^?#]+)?(\\?[^#]+)?(#.*)?/;\n\nvar parseUrl = function (url) {\n  var match = url.match(urlPat);\n\n  if (!match) {\n    throw new Error((\"Failed to parse URL '\" + url + \"'\"))\n  } else if ((match[2] || '') === '') { // No path -> No URL\n    throw new Error((\"Invalid URL '\" + url + \"'\"))\n  }\n\n  return {\n    base: match[1] || '',\n    path: match[2] || '',\n    search: match[3] || '',\n    hash: match[4] || '',\n  }\n};\n\nvar buildUrl = function (parts) { return (\"\" + (parts.base) + (parts.path) + (parts.search) + (parts.hash)); };\n\nvar createPathInfo = function (path, type, id, params, name) {\n  if ( name === void 0 ) name = '';\n\n  return ({\n  path: path,\n  type: type,\n  id: id,\n  params: params,\n  name: name,\n  ext: splitExt(path)[1],\n});\n};\n\nvar STI_PARAM_SEP = '\\x02';\nvar STI_PARAM_DEL = '\\x03';\n\nvar packSTIPathParams = function (p) { return p.map(function (p) { return p.join(' '); }).join(STI_PARAM_SEP); };\n\nvar unpackSTIPathParams = function (s) { return (s.length && s.split(STI_PARAM_SEP).map(function (s) { return s.split(' '); })) || []; };\n\nvar genSTIPathParamsPad = function (source) { return source.split('').reduce(function (m, c, i) {\n    if ((i % 3) === 0) {\n      m.push(c);\n    }\n    return m\n  }, []).join(''); };\n\nvar encodeSTIPathParams = function (id, params) { return b2a((\"\" + (packSTIPathParams(params)) + STI_PARAM_DEL + (genSTIPathParamsPad(id)))); };\n\nvar decodeSTIPathParams = function (s) { return (s.length && unpackSTIPathParams(a2b(s).split(STI_PARAM_DEL, 1)[0])) || []; };\n\nvar STI_V1_PATH_PAT = /^\\/?(\\w+\\/)?(?:[a-z0-9]{3}\\/){4}(?:[a-z0-9_]{2,}\\/)?([a-z0-9]+)_?([a-z0-9]+=?=?)?\\..*$/i;\n\nvar parseSTIv1Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V1_PATH_PAT);\n  var params = [];\n\n  if (match) {\n    params = decodeSTIPathParams(match[3] || '');\n    info = createPathInfo(p, 'sti-v1', (match[1] || '') + match[2], params);\n  }\n\n  return info\n};\n\nvar STI_V2_PATH_PAT = /^\\/?(?:\\w+\\/)?(?:[0-9a-f]{2}\\/){3}([0-9a-f]{6}_[0-9a-f]{13})_?([a-z0-9]+=?=?)?\\..*$/i;\n\nvar parseSTIv2Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V2_PATH_PAT);\n  var params = [];\n\n  if (match) {\n    params = decodeSTIPathParams(match[2] || '');\n    info = createPathInfo(p, 'sti-v2', match[1], params);\n  }\n\n  return info\n};\n\nvar STI_V3_PATH_PAT = /^\\/?(?:[0-9a-f]{2}\\/){3}[0-9a-f]{26}_/;\n\nvar parseSTIv3Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V3_PATH_PAT);\n  var params = [];\n  var parts;\n\n  if (match) {\n    parts = splitExt(p)[0].split('_');\n    params = decodeSTIPathParams(parts[1]);\n    info = createPathInfo(p, 'sti-v3', parts[0].replace(/\\//g, ''), params, parts.slice(2).join('_'));\n  }\n\n  return info\n};\n\nvar SHUTTLE_PATH_PAT = /(^.*\\/)([^/]+)\\.(gif|png|jpg|jpeg|mp3)$/;\nvar SHUTTLE_PARAMS_PAT = /^(.*)-(r[lcr][tmb])(\\d+)x(\\d+)(u?)$/;\n\nvar parseShuttlePath = function (p) {\n  var info = null;\n  var pathMatch = p.match(SHUTTLE_PATH_PAT);\n  var paramsMatch = null;\n  var name = '';\n  var params = [];\n\n  if (pathMatch) {\n    paramsMatch = pathMatch[2].match(SHUTTLE_PARAMS_PAT);\n    if (paramsMatch) {\n      name = (paramsMatch[1]) + \".\" + (pathMatch[3]);\n      params = [[\n        paramsMatch[2],\n        paramsMatch[3],\n        paramsMatch[4],\n        paramsMatch[5] || '' ]];\n    } else {\n      name = (pathMatch[2]) + \".\" + (pathMatch[3]);\n    }\n    info = createPathInfo(p, 'shuttle-v2', '', params, name);\n  }\n\n  return info\n};\n\n// CAUTION: ORDER MATTERS!\n// List path parsers from moste specific to most generic\nvar pathParsers = [\n  parseSTIv1Path,\n  parseSTIv2Path,\n  parseSTIv3Path,\n  parseShuttlePath ];\n\n// parsePath parses the given path and returns a path info object.\nvar parsePath = function (p) {\n  for (var i = 0, l = pathParsers.length, info = (void 0); i < l; i += 1) {\n    info = pathParsers[i](p);\n    if (info !== null) {\n      return info\n    }\n  }\n\n  throw new Error((\"Unknown path format: '\" + p + \"'\"))\n};\n\nvar isVariant = function (pathInfo) { return pathInfo.params.length > 0; };\n\nvar buildSTIv1Path = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(basename(pathInfo.path))[0];\n\n  if (isVariant(pathInfo)) {\n    name = name.substr(0, name.lastIndexOf('_'));\n  }\n\n  ext = ext || pathInfo.ext;\n  if (params.length) {\n    name += \"_\" + (encodeSTIPathParams(pathInfo.id, params));\n  }\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + ext)\n};\n\nvar buildSTIv2Path = buildSTIv1Path;\n\nvar buildSTIv3Path = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(basename(pathInfo.path))[0];\n  var nameParts = name.split('_');\n\n  ext = ext || pathInfo.ext;\n  name = (nameParts[0]) + \"_\" + (encodeSTIPathParams(pathInfo.id, params));\n  if (nameParts.length > 2) {\n    name += \"_\" + (nameParts.slice(2).join('_'));\n  }\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + ext)\n};\n\nvar encodeShuttlePathParams = function (p) {\n  var c;\n  var s = '';\n\n  if (p.length) {\n    c = p[0];\n    s = \"-\" + (c[0]) + (c[1]) + \"x\" + (c[2]) + (c[3]);\n  }\n\n  return s\n};\n\nvar buildShuttlePath = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(pathInfo.name)[0];\n\n  ext = ext || pathInfo.ext;\n  params = encodeShuttlePathParams(params);\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + params + ext)\n};\n\nvar pathBuilders = {\n  'sti-v1': buildSTIv1Path,\n  'sti-v2': buildSTIv2Path,\n  'sti-v3': buildSTIv3Path,\n  'shuttle-v2': buildShuttlePath,\n};\n\nvar getPathBuilder = function (type) {\n  if (!(type in pathBuilders)) {\n    throw new Error((\"No path builder found for type '\" + type + \"'\"))\n  }\n  return pathBuilders[type]\n};\n\nvar getSourcePath = function (pathInfo, ext) { return getPathBuilder(pathInfo.type)(pathInfo, [], ext); };\n\nvar normalizePathParams = function (params) {\n  if (typeof params === 'undefined') {\n    return []\n  } else {\n    return (params || []).filter(function (p) { return p.length > 0; }).map(function (p) { return [].concat(p); })\n  }\n};\n\nvar isSTIPath = function (pathInfo) { return pathInfo.type.match(/^sti-v\\d+$/) !== null; };\n\nvar isShuttlePath = function (pathInfo) { return pathInfo.type.match(/^shuttle-v\\d+$/) !== null; };\n\nvar isSTIv1Url = function (url) { return STI_V1_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\nvar isSTIv2Url = function (url) { return STI_V2_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\nvar isSTIv3Url = function (url) { return STI_V3_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\n// isSTIUrl returns true if the given url is a sti-v1, sti-v2 or sti-v3 URL.\nvar isSTIUrl = function (url) {\n  var path = url.split('/').slice(3).join('/');\n  return !![\n    STI_V3_PATH_PAT,\n    STI_V2_PATH_PAT,\n    STI_V1_PATH_PAT ].find(function (p) { return p.test(path); })\n};\n\n// isShuttleUrl returns true if the given URL is a shuttle-v1/v2 URL.\nvar isShuttleUrl = function (url) { return SHUTTLE_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\n// createVariantUrl returns a variant URL for given url based on given\n// parameter set and the optional extension.\n// When the given URL is variant URL a new variant URL is returned that carries\n// the given parameter set.\nvar createVariantUrl = function (url, params, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var pathParams = normalizePathParams(params);\n\n  if (!pathParams.length) {\n    throw new Error(\"Require valid set of path parameters\")\n  }\n\n  return buildUrl(assign({}, urlParts, {\n    path: getPathBuilder(pathInfo.type)(pathInfo, pathParams, ext),\n  }))\n};\n\n// getSourceUrl returns the associated source URL or path for given url/path.\nvar getSourceUrl = function (url, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var path = getSourcePath(pathInfo, ext);\n\n  return buildUrl(assign({}, urlParts, { path: path }))\n};\n\n// extendPathParams will append the given parameter set to returns a new URL or path\nvar extendPathParams = function (url, params) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var pathParams = normalizePathParams(params);\n\n  if (!pathParams.length) {\n    throw new Error(\"Require valid set of path parameters\")\n  }\n\n  if (!isSTIPath(pathInfo)) {\n    throw new Error((\"Parameter extension of type '\" + (pathInfo.type) + \"' paths not implemented\"))\n  }\n\n  return buildUrl(assign({}, urlParts, {\n    path: getPathBuilder(pathInfo.type)(pathInfo, pathInfo.params.concat(pathParams)),\n  }))\n};\n\n// getPathParams returns the parameter set for given URL or path\nvar getPathParams = function (url) { return parsePath(url).params; };\n\nvar genSTIPathId = function (size) {\n  var id = '';\n\n  while (id.length < size) {\n    id += Math.random().toString(16).slice(2);\n  }\n\n  return id.slice(0, size)\n};\n\n// createSTIPath returns a unique sti-v3 path.\nvar createSTIPath = function (ext, name) {\n  if ( name === void 0 ) name = '';\n\n  var id = genSTIPathId(32);\n  var params = encodeSTIPathParams(id, []);\n\n  if (name) {\n    name = \"_\" + name;\n  }\n\n  ext = normalizeExtension(ext);\n\n  return ((id.substr(0, 2)) + \"/\" + (id.substr(2, 2)) + \"/\" + (id.substr(4, 2)) + \"/\" + (id.substr(6)) + \"_\" + params + name + \".\" + ext)\n};\n\nvar normalizeExtension = function (ext) { return (ext || '').replace(/^\\.*/, ''); };\n\nvar genUniqId = function (size) {\n  var s = '';\n\n  while (s.length < size) {\n    s += Math.random().toString(32).slice(2);\n  }\n\n  return s.slice(0, size)\n};\n\n// createShuttlePath returns a unique shuttle-v2 path.\nvar createShuttlePath = function (ext, base, name) {\n  if ( base === void 0 ) base = '';\n  if ( name === void 0 ) name = '';\n\n  var id = genUniqId(32);\n\n  if (!base) {\n    base = (id.substr(0, 2)) + \"/\" + (id.substr(2, 2));\n  }\n\n  if (name) {\n    name = \"-\" + name;\n  }\n\n  ext = normalizeExtension(ext);\n\n  return ((base.replace(/^\\/*|\\/*$/g, '')) + \"/\" + (id.substr(4)) + name + \".\" + ext)\n};\n\nvar indexOfActionInParams = function (action, params) {\n  for (var i in params) {\n    if (params[i][0] === action) {\n      return parseInt(i)\n    }\n  }\n  return -1\n};\n\nvar updateVariantUrl = function (url, params, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var origParams = normalizePathParams(pathInfo.params);\n\n  if (!isVariant(pathInfo) || (urlParts.type && urlParts.type.match(/^sti-/) === null)) {\n    return createVariantUrl(url, params, ext)\n  }\n\n  var exchangeR = indexOfActionInParams('c', origParams) > -1 || indexOfActionInParams('c', params) > -1 || indexOfActionInParams('re', params) > -1;\n  for (var origIndex in origParams) {\n    origParams[origIndex][0] = exchangeR && origParams[origIndex][0] === 'r' ? 're' : origParams[origIndex][0];\n  }\n  var origIndexes = origParams.reduce(function (m, value, index) { m[value[0]] = index; return m }, {});\n  for (var i in params) {\n    var action = params[i];\n    action[0] = exchangeR && action[0] === 'r' ? 're' : action[0];\n    if (origIndexes.hasOwnProperty(action[0])) {\n      origParams.splice(origIndexes[action[0]], 1, action);\n    } else {\n      origParams.push(action);\n    }\n  }\n  return createVariantUrl(url, origParams, ext)\n};\n\nvar index = {\n  createShuttlePath: createShuttlePath,\n  createSTIPath: createSTIPath,\n  createVariantUrl: createVariantUrl,\n  extendPathParams: extendPathParams,\n  getPathParams: getPathParams,\n  getSourceUrl: getSourceUrl,\n  isShuttlePath: isShuttlePath,\n  isShuttleUrl: isShuttleUrl,\n  isSTIPath: isSTIPath,\n  isSTIUrl: isSTIUrl,\n  isSTIv1Url: isSTIv1Url,\n  isSTIv2Url: isSTIv2Url,\n  isSTIv3Url: isSTIv3Url,\n  parsePath: parsePath,\n  parseUrl: parseUrl,\n  indexOfActionInParams: indexOfActionInParams,\n  updateVariantUrl: updateVariantUrl,\n};\n\nreturn index;\n\n})));\n","const getData = (dataSelector) => {\n  const htmlString = document.querySelector(dataSelector).innerHTML\n\n  return JSON.parse(htmlString)\n}\n\nexport default getData\n","const getReferrer = () => {\n  if (document.referrer.includes(location.protocol + '//' + location.host)) {\n    return document.referrer\n  } else {\n    return null\n  }\n}\n\nexport default getReferrer\n","export const getPageFromUrl = () => {\n  const hashPage = parseInt(location.hash.replace(/^\\D+/g, ''))\n\n  if (typeof hashPage === 'number' && hashPage > 0) {\n    return hashPage\n  } else {\n    return null\n  }\n}\n\nconst getInitalPage = (galleryLength) => {\n  const initialPage = getPageFromUrl()\n\n  if (typeof initialPage === 'number' && initialPage <= galleryLength) {\n    return initialPage\n  } else {\n    return 1\n  }\n}\n\nexport default getInitalPage\n","import Embedo from 'embedo'\n\nexport let embedoInst = null\n\nexport const initEmbedo = () => {\n  embedoInst = new Embedo({\n    twitter: true,\n    instagram: true,\n    pinterest: true,\n  })\n}\n","import './stylesheets/desktop.scss'\nimport './stylesheets/demo.scss'\nimport getData from './common/gallery-data.js'\nimport getReferrer from './common/referrer.js'\nimport getInitalPage from './common/url.js'\nimport { initEmbedo, embedoInst } from './common/embedo.js'\nimport Filer from '../node_modules/filer-js-sdk/dist/filer.js'\n\nconst defaults = {\n  dataSelector: '#galleryData',\n  stageSelector: '#galleryStage',\n  contentSelector: '#galleryContent',\n}\n\nlet settings = {}\nlet state = {}\n\n/**\n * set initial state and render page depending\n * on url; if no page is set first page will render.\n * @param  {object} options\n * @param  {object} smbContext\n */\nconst init = (options, smbContext) => {\n  setInitialState(options)\n  renderPage()\n  initEmbedo()\n}\n\n/**\n * Assign settings and set init state based on gallery data\n * @param {Object} options\n */\nconst setInitialState = (options) => {\n  settings = Object.assign({}, defaults, options)\n\n  state.data = getData(settings.dataSelector)\n  state.length = state.data.itemListElement.length\n  state.referrer = getReferrer()\n  state.currentPage = getInitalPage(state.length)\n}\n\n/**\n * Update html and bind events afterwards.\n * Execute \"afterPageRender\"-callback if provided.\n */\nconst renderPage = () => {\n  document.querySelector(settings.stageSelector).innerHTML = renderStage()\n  document.querySelector(settings.contentSelector).innerHTML = renderContent()\n  bindEvents()\n\n  if (typeof settings.afterPageRender === 'function') {\n    settings.afterPageRender(state)\n  }\n}\n\n/**\n * Bind events for navigation, popstate and tracking\n */\nconst bindEvents = () => {\n  document.querySelectorAll('[role=smb-gallery-prev]').forEach((elm) => {\n    elm.addEventListener('click', (e) => {\n      e.preventDefault()\n      goPrev()\n    })\n  })\n\n  document.querySelectorAll('[role=smb-gallery-next]').forEach((elm) => {\n    elm.addEventListener('click', (e) => {\n      e.preventDefault()\n      goNext()\n    })\n  })\n\n  document.onkeydown = (e) => {\n    switch (e.keyCode) {\n      case 37:\n        goPrev()\n        break\n      case 39:\n        goNext()\n        break\n    }\n  }\n\n  window.onpopstate = (e) => {\n    if (e.state && e.state.page) {\n      state.currentPage = e.state.page\n    } else {\n      state.currentPage = 1\n    }\n\n    go()\n  }\n}\n\n/**\n * Set state to prev page push new page to history\n */\nconst goPrev = () => {\n  if (state.currentPage > 1) {\n    state.currentPage = state.currentPage - 1\n    window.history.pushState({ page: state.currentPage }, '', `#page-${state.currentPage}`)\n\n    go()\n  }\n}\n\n/**\n * Set state to next page push new page to history\n */\nconst goNext = () => {\n  if (state.currentPage < state.length) {\n    state.currentPage = state.currentPage + 1\n    window.history.pushState({ page: state.currentPage }, '', `#page-${state.currentPage}`)\n\n    go()\n  }\n}\n\n/**\n * This function is called on every popstate-event and after pushState is called.\n * New page gets rendered and tracked as new page impression.\n * Executes \"onItemChange\"-callback if provided.\n */\nconst go = () => {\n  renderPage()\n\n  window.scrollTo(0, 0)\n\n  embedoInst.domify()\n\n  if (typeof window.smbt !== 'undefined') {\n    window.smbt.emit('pageview')\n  }\n\n  if (typeof iom !== 'undefined' && typeof window.iom.c === 'function' && typeof window.iam_data !== 'undefined') {\n    window.iom.c(window.iam_data, 2)\n  }\n\n  if (typeof window.adLoader !== 'undefined') {\n    try {\n      resetBodyStyles()\n      window.adLoader('_reloadAds')\n    } catch (e) {}\n  }\n\n  if (typeof settings.onItemChange === 'function') {\n    settings.onItemChange(state)\n  }\n}\n\n/**\n * Reset styles that are applyed by brandbooster\n * or other advertisments; called before ad reloads.\n */\nconst resetBodyStyles = () => {\n  document.body.style = ''\n\n  if (window.bb) {\n    window.bb.unload()\n  }\n}\n\n/**\n * Renders Stage depending on current state\n * @return {string} template string\n */\nconst renderStage = () => {\n  const prevPage = state.data.itemListElement[state.currentPage - 2]\n  const page = state.data.itemListElement[state.currentPage - 1]\n  const nextPage = state.data.itemListElement[state.currentPage]\n\n  return `\n    <div class=\"smb-gallery-header\">\n      ${state.currentPage > 1 ? `\n        <a role=\"smb-gallery-prev\" class=\"smb-gallery-nav smb-gallery-nav-left\" href=\"${prevPage.item.url}\">\n          <div class=\"smb-gallery-button\">\n            <i class=\"fas fa-angle-left\"></i>\n          </div>\n        </a>\n      ` : ''}\n      <div class=\"smb-gallery-media ${page.item['@type']}\">\n        ${renderMedia(page.item)}\n      </div>\n      ${state.currentPage < state.length ? `\n        <a role=\"smb-gallery-next\" class=\"smb-gallery-nav smb-gallery-nav-right\" href=\"${nextPage.item.url}\">\n          <div class=\"smb-gallery-button\">\n            <i class=\"fas fa-angle-right\"></i>\n          </div>\n        </a>\n      ` : ''}\n    </div>\n\n    <div class=\"smb-gallery-info\">\n    ${page.item.copyrightHolder ? `\n      <small>Bildquelle: ${page.item.copyrightHolder}</small>\n    ` : '<small></small>'}\n      <small>${state.currentPage} / ${state.length}</small>\n    </div>\n  `\n}\n\n/**\n * Renders MediaItem\n * @return {string} template string\n */\nconst renderMedia = (item) => {\n  switch (item['@type']) {\n    case 'ImageObject':\n      return `\n        <img class=\"\" src=\"${Filer.createVariantUrl(item.contentUrl, [['rcm', 0, 450, 'u']])}\" alt=\"\">\n      `\n    case 'VideoObject':\n      return `\n        <iframe class=\"\" src=\"${item.embedUrl}\"></iframe>\n      `\n    case 'SocialMediaPosting':\n      return `<div data-embedo-url=\"${item.sharedContent.url}\" data-embedo-height=\"450\"></div>`\n    default:\n      return ``\n  }\n}\n\n/**\n * Renders Content depending on current state\n * @return {string} template string\n */\nexport const renderContent = () => {\n  const page = state.data.itemListElement[state.currentPage - 1]\n\n  return `\n    <div class=\"smg-gallery-body\">\n      ${page.item.description}\n\n      <div class=\"smb-gallery-btn-nav\">\n        <div>\n        ${state.referrer ? `\n          <a role=\"smb-gallery-back\" class=\"btn btn-link\" href=\"${state.referrer}\"><i class=\"fas fa-angle-left\"></i> zurck zum Artikel</a>\n        ` : ''}\n        </div>\n        <div>\n          <a role=\"smb-gallery-prev\" class=\"btn btn-primary ${state.currentPage === 1 ? 'disabled' : ''}\" href=\"#\"><i class=\"fas fa-angle-left\"></i> zurck</a>\n          <a role=\"smb-gallery-next\" class=\"btn btn-primary ${state.currentPage === state.length ? 'disabled' : ''}\" href=\"#\">weiter <i class=\"fas fa-angle-right\"></i></a>\n        </div>\n      </div>\n    </div>\n  `\n}\n\nexport default { init }\n"],"sourceRoot":""}