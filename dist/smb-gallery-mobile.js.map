{"version":3,"sources":["webpack://smbGalleryMobile/webpack/universalModuleDefinition","webpack://smbGalleryMobile/webpack/bootstrap","webpack://smbGalleryMobile/./node_modules/filer-js-sdk/dist/filer.js","webpack://smbGalleryMobile/./node_modules/smb-element-observer/dist/smb-element-observer.min.js","webpack://smbGalleryMobile/./node_modules/embedo/embedo.js","webpack://smbGalleryMobile/./src/common/gallery-data.js","webpack://smbGalleryMobile/./src/common/referrer.js","webpack://smbGalleryMobile/./src/common/url.js","webpack://smbGalleryMobile/./src/common/embedo.js","webpack://smbGalleryMobile/./src/mobile/render.js","webpack://smbGalleryMobile/./src/mobile/ads.js","webpack://smbGalleryMobile/./src/mobile.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","assign","target","varArgs","len","arguments","length","apply","concat","TypeError","to","index","nextSource","nextKey","chars","InvalidCharacterError","message","this","Error","b64","b2a","input","str","String","out","block","charCode","idx","map","charAt","charCodeAt","a2b","replace","bs","buffer","bc","fromCharCode","indexOf","basename","path","match","dirname","substring","splitExt","ext","substr","urlPat","parseUrl","url","base","search","hash","buildUrl","parts","createPathInfo","type","id","params","encodeSTIPathParams","join","split","reduce","push","/","+","decodeSTIPathParams","unpackSTIPathParams","-","_","STI_V1_PATH_PAT","STI_V2_PATH_PAT","STI_V3_PATH_PAT","SHUTTLE_PATH_PAT","SHUTTLE_PARAMS_PAT","pathParsers","info","slice","pathMatch","paramsMatch","parsePath","isVariant","pathInfo","buildSTIv1Path","lastIndexOf","pathBuilders","sti-v1","sti-v2","sti-v3","nameParts","shuttle-v2","getPathBuilder","normalizePathParams","filter","isSTIPath","createVariantUrl","urlParts","pathParams","normalizeExtension","indexOfActionInParams","action","parseInt","createShuttlePath","size","Math","random","toString","genUniqId","createSTIPath","genSTIPathId","extendPathParams","getPathParams","getSourceUrl","getSourcePath","isShuttlePath","isShuttleUrl","test","isSTIUrl","find","isSTIv1Url","isSTIv2Url","isSTIv3Url","updateVariantUrl","origParams","exchangeR","origIndex","origIndexes","splice","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","e","f","a","console","error","u","unobserve","removeEventListener","w","capture","passive","v","getBoundingClientRect","top","innerHeight","bottom","requestAnimationFrame","IntersectionObserver","forEach","intersectionRatio","rootMargin","observe","addEventListener","IntersectionObserverEntry","once","repeat","Embedo","options","defaults","OPTIONS","requests","events","init","automagic","parentNode","childNode","callback","log","utils","validateElement","watcher","uuid","parent","width","compute","height","child","strict","isOverflowing","style","scale","min","transform","facebook","twitter","instagram","pinterest","SOURCES","GLOBAL","SDK","oEmbed","REGEX","PARAMS","version","cookie","appId","xfbml","youtube","vimeo","github","soundcloud","RESTRICTED","writable","configurable","debug","Array","plugins","plugin","primary","secondary","extend","obj","merge","destination","source","preserve","sequencer","args","then","done","counter","callme","replacer","observer","Deferred","resolved","rejected","execute","list","resolve","reject","fail","camelToSnake","toLowerCase","validateURL","generateElement","attributes","html","el","document","createElement","keys","setAttribute","innerHTML","generateEmbed","container","appendChild","generateScript","script","src","encodeURI","HTMLElement","nodeType","nodeName","sdkReady","check","setTimeout","querystring","encodeURIComponent","fetch","head","getElementsByTagName","jsonpCallback","clear","removeChild","data","defer","charset","onerror","err","ajax","xhr","XMLHttpRequest","onload","status","responseText","statusText","JSON","parse","open","send","element","props","webkitTransform","MozTransform","msTransform","OTransform","prop","is_computed","defaultView","getComputedStyle","getPropertyValue","currentStyle","toUpperCase","isNaN","Number","convertToPx","percent","parent_width","parseFloat","percent_px","documentElement","g","body","x","innerWidth","clientWidth","y","clientHeight","relative_px","fn","timer","EMBEDO_WATCHER","count","request","clearTimeout","dimensions","el_width","centerize","parent_el","child_el","maxWidth","marginLeft","marginRight","maxHeight","display","textAlign","margin","handleScriptValidation","scripts","defineProperties","on","event","listener","off","emit","listeners","sdk","locale","navigator","language","appendSDK","domify","embedos","querySelectorAll","embedo_el","dataset","acc","cur","render","fb_html_class","embed_uri","query","omitscript","maxwidth","content","handleFacebookEmbed","maxheight","fb_html","class","data-href","data-width","removeAttribute","FB","XFBML","Event","subscribe","firstChild","getAttribute","facebookify","result","omit_script","twttr","widgets","load","twitterify","hidecaption","method","jsonp","extracted_url","iframe","instgrm","Embeds","process","instagram_embed_timer","setInterval","className","clearInterval","instagramify","getYTVideoID","youtube_uri","modestbranding","autohide","showinfo","embed_options","pin_size","pin_el","href","data-pin-do","data-pin-lang","data-pin-width","PinUtils","querySelector","build","pinterest_embed_timer_count","pinterest_embed_timer","pinterestify","contentWindow","write","close","format","fragment","createDocumentFragment","extension","mimes","csv","pdf","gif","js","json","xhtml","pps","ppsx","xml","ogg","mp4","webm","mimetype","el_type","tagName","override","embed_el","sources","matched_source","Boolean","getURLSource","urls","reqs","failed","finished","jobs","refresh","getElementById","destroy","removed","remove","getData","dataSelector","htmlString","getReferrer","referrer","includes","location","protocol","host","getInitalPage","galleryLength","hashPage","initialPage","embedoInst","renderMedia","item","Filer","contentUrl","embedUrl","sharedContent","getSlotName","renderGalleryItems","state","itemListElement","page","copyrightHolder","headline","description","trim","determineItemsThatShouldHaveAds","itemsThatShouldHaveAds","galleryItems","currentPage","unAssignAds","elm","adContainer","unloadAd","assignAds","hasAttribute","slotname","loadAd","adLoader","circulateAds","contentSelector","settings","setInitialState","renderGallery","applyGalleryItems","scrollInitialItemIntoView","bindEvents","afterPageRender","scrollIntoView","Observer","history","pushState","post","postUrl","__webpack_exports__","smbContext"],"mappings":"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","file":"smb-gallery-mobile.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"smbGalleryMobile\"] = factory();\n\telse\n\t\troot[\"smbGalleryMobile\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/**\n * filer v1.0.5\n * (c) 2018 SMB\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.filer = factory());\n}(this, (function () { 'use strict';\n\nvar assign = function (target) {\n  var varArgs = [], len = arguments.length - 1;\n  while ( len-- > 0 ) varArgs[ len ] = arguments[ len + 1 ];\n\n  if (typeof Object.assign == 'function') {\n    return Object.assign.apply(Object, [target ].concat( varArgs))\n  }\n\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object')\n  }\n\n  var to = Object(target);\n\n  for (var index = 0; index < varArgs.length; index++) {\n    var nextSource = varArgs[index];\n\n    if (nextSource != null) {\n      for (var nextKey in nextSource) {\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n\n  return to\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\nInvalidCharacterError.prototype = new Error;\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n// encoder\n// [https://gist.github.com/999166] by [https://github.com/nignag]\nvar b2a$1 = function (input) {\n  var str = String(input);\n  var out = '';\n\n  for (\n    // initialize result and counter\n    var block = (void 0), charCode = (void 0), idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    out += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new InvalidCharacterError(\"'b2a' failed: The string to be encoded contains characters outside of the Latin1 range.\")\n    }\n    block = block << 8 | charCode;\n  }\n\n  return out\n};\n\n// decoder\n// [https://gist.github.com/1020396] by [https://github.com/atk]\nvar a2b$1 = function (input) {\n  var str = String(input).replace(/=+$/, '');\n  var out = '';\n\n  if (str.length % 4 === 1) {\n    throw new InvalidCharacterError(\"'a2b' failed: The string to be decoded is not correctly encoded.\")\n  }\n\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0;\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? out += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n\n  return out\n};\n\nvar b64 = {\n  b2a: b2a$1,\n  a2b: a2b$1,\n};\n\nvar b2a = function (s) { return b64.b2a(s).replace(/[/+]/g, function (m) { return ({'/': '_', '+': '-'})[m]; }); };\n\nvar a2b = function (s) { return b64.a2b(s.replace(/[-_]/g, function (m) { return ({'-': '+', '_': '/'})[m]; })); };\n\nvar basename = function (path) { return (path || '').match(/[^/]*$/)[0]; };\n\nvar dirname = function (path) { return path.substring(0, path.length - basename(path).length).replace(/\\/$/, ''); };\n\nvar splitExt = function (path) {\n  var m = path.match(/\\.\\w+$/);\n  var ext = (m && m[0]) || '';\n  return [path.substr(0, path.length - ext.length), ext]\n};\n\nvar urlPat = /^(.*:?\\/\\/[^/]+)?(\\/?[^?#]+)?(\\?[^#]+)?(#.*)?/;\n\nvar parseUrl = function (url) {\n  var match = url.match(urlPat);\n\n  if (!match) {\n    throw new Error((\"Failed to parse URL '\" + url + \"'\"))\n  } else if ((match[2] || '') === '') { // No path -> No URL\n    throw new Error((\"Invalid URL '\" + url + \"'\"))\n  }\n\n  return {\n    base: match[1] || '',\n    path: match[2] || '',\n    search: match[3] || '',\n    hash: match[4] || '',\n  }\n};\n\nvar buildUrl = function (parts) { return (\"\" + (parts.base) + (parts.path) + (parts.search) + (parts.hash)); };\n\nvar createPathInfo = function (path, type, id, params, name) {\n  if ( name === void 0 ) name = '';\n\n  return ({\n  path: path,\n  type: type,\n  id: id,\n  params: params,\n  name: name,\n  ext: splitExt(path)[1],\n});\n};\n\nvar STI_PARAM_SEP = '\\x02';\nvar STI_PARAM_DEL = '\\x03';\n\nvar packSTIPathParams = function (p) { return p.map(function (p) { return p.join(' '); }).join(STI_PARAM_SEP); };\n\nvar unpackSTIPathParams = function (s) { return (s.length && s.split(STI_PARAM_SEP).map(function (s) { return s.split(' '); })) || []; };\n\nvar genSTIPathParamsPad = function (source) { return source.split('').reduce(function (m, c, i) {\n    if ((i % 3) === 0) {\n      m.push(c);\n    }\n    return m\n  }, []).join(''); };\n\nvar encodeSTIPathParams = function (id, params) { return b2a((\"\" + (packSTIPathParams(params)) + STI_PARAM_DEL + (genSTIPathParamsPad(id)))); };\n\nvar decodeSTIPathParams = function (s) { return (s.length && unpackSTIPathParams(a2b(s).split(STI_PARAM_DEL, 1)[0])) || []; };\n\nvar STI_V1_PATH_PAT = /^\\/?(\\w+\\/)?(?:[a-z0-9]{3}\\/){4}(?:[a-z0-9_]{2,}\\/)?([a-z0-9]+)_?([a-z0-9]+=?=?)?\\..*$/i;\n\nvar parseSTIv1Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V1_PATH_PAT);\n  var params = [];\n\n  if (match) {\n    params = decodeSTIPathParams(match[3] || '');\n    info = createPathInfo(p, 'sti-v1', (match[1] || '') + match[2], params);\n  }\n\n  return info\n};\n\nvar STI_V2_PATH_PAT = /^\\/?(?:\\w+\\/)?(?:[0-9a-f]{2}\\/){3}([0-9a-f]{6}_[0-9a-f]{13})_?([a-z0-9]+=?=?)?\\..*$/i;\n\nvar parseSTIv2Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V2_PATH_PAT);\n  var params = [];\n\n  if (match) {\n    params = decodeSTIPathParams(match[2] || '');\n    info = createPathInfo(p, 'sti-v2', match[1], params);\n  }\n\n  return info\n};\n\nvar STI_V3_PATH_PAT = /^\\/?(?:[0-9a-f]{2}\\/){3}[0-9a-f]{26}_/;\n\nvar parseSTIv3Path = function (p) {\n  var info = null;\n  var match = p.match(STI_V3_PATH_PAT);\n  var params = [];\n  var parts;\n\n  if (match) {\n    parts = splitExt(p)[0].split('_');\n    params = decodeSTIPathParams(parts[1]);\n    info = createPathInfo(p, 'sti-v3', parts[0].replace(/\\//g, ''), params, parts.slice(2).join('_'));\n  }\n\n  return info\n};\n\nvar SHUTTLE_PATH_PAT = /(^.*\\/)([^/]+)\\.(gif|png|jpg|jpeg|mp3)$/;\nvar SHUTTLE_PARAMS_PAT = /^(.*)-(r[lcr][tmb])(\\d+)x(\\d+)(u?)$/;\n\nvar parseShuttlePath = function (p) {\n  var info = null;\n  var pathMatch = p.match(SHUTTLE_PATH_PAT);\n  var paramsMatch = null;\n  var name = '';\n  var params = [];\n\n  if (pathMatch) {\n    paramsMatch = pathMatch[2].match(SHUTTLE_PARAMS_PAT);\n    if (paramsMatch) {\n      name = (paramsMatch[1]) + \".\" + (pathMatch[3]);\n      params = [[\n        paramsMatch[2],\n        paramsMatch[3],\n        paramsMatch[4],\n        paramsMatch[5] || '' ]];\n    } else {\n      name = (pathMatch[2]) + \".\" + (pathMatch[3]);\n    }\n    info = createPathInfo(p, 'shuttle-v2', '', params, name);\n  }\n\n  return info\n};\n\n// CAUTION: ORDER MATTERS!\n// List path parsers from moste specific to most generic\nvar pathParsers = [\n  parseSTIv1Path,\n  parseSTIv2Path,\n  parseSTIv3Path,\n  parseShuttlePath ];\n\n// parsePath parses the given path and returns a path info object.\nvar parsePath = function (p) {\n  for (var i = 0, l = pathParsers.length, info = (void 0); i < l; i += 1) {\n    info = pathParsers[i](p);\n    if (info !== null) {\n      return info\n    }\n  }\n\n  throw new Error((\"Unknown path format: '\" + p + \"'\"))\n};\n\nvar isVariant = function (pathInfo) { return pathInfo.params.length > 0; };\n\nvar buildSTIv1Path = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(basename(pathInfo.path))[0];\n\n  if (isVariant(pathInfo)) {\n    name = name.substr(0, name.lastIndexOf('_'));\n  }\n\n  ext = ext || pathInfo.ext;\n  if (params.length) {\n    name += \"_\" + (encodeSTIPathParams(pathInfo.id, params));\n  }\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + ext)\n};\n\nvar buildSTIv2Path = buildSTIv1Path;\n\nvar buildSTIv3Path = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(basename(pathInfo.path))[0];\n  var nameParts = name.split('_');\n\n  ext = ext || pathInfo.ext;\n  name = (nameParts[0]) + \"_\" + (encodeSTIPathParams(pathInfo.id, params));\n  if (nameParts.length > 2) {\n    name += \"_\" + (nameParts.slice(2).join('_'));\n  }\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + ext)\n};\n\nvar encodeShuttlePathParams = function (p) {\n  var c;\n  var s = '';\n\n  if (p.length) {\n    c = p[0];\n    s = \"-\" + (c[0]) + (c[1]) + \"x\" + (c[2]) + (c[3]);\n  }\n\n  return s\n};\n\nvar buildShuttlePath = function (pathInfo, params, ext) {\n  if ( ext === void 0 ) ext = '';\n\n  var name = splitExt(pathInfo.name)[0];\n\n  ext = ext || pathInfo.ext;\n  params = encodeShuttlePathParams(params);\n\n  return ((dirname(pathInfo.path)) + \"/\" + name + params + ext)\n};\n\nvar pathBuilders = {\n  'sti-v1': buildSTIv1Path,\n  'sti-v2': buildSTIv2Path,\n  'sti-v3': buildSTIv3Path,\n  'shuttle-v2': buildShuttlePath,\n};\n\nvar getPathBuilder = function (type) {\n  if (!(type in pathBuilders)) {\n    throw new Error((\"No path builder found for type '\" + type + \"'\"))\n  }\n  return pathBuilders[type]\n};\n\nvar getSourcePath = function (pathInfo, ext) { return getPathBuilder(pathInfo.type)(pathInfo, [], ext); };\n\nvar normalizePathParams = function (params) {\n  if (typeof params === 'undefined') {\n    return []\n  } else {\n    return (params || []).filter(function (p) { return p.length > 0; }).map(function (p) { return [].concat(p); })\n  }\n};\n\nvar isSTIPath = function (pathInfo) { return pathInfo.type.match(/^sti-v\\d+$/) !== null; };\n\nvar isShuttlePath = function (pathInfo) { return pathInfo.type.match(/^shuttle-v\\d+$/) !== null; };\n\nvar isSTIv1Url = function (url) { return STI_V1_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\nvar isSTIv2Url = function (url) { return STI_V2_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\nvar isSTIv3Url = function (url) { return STI_V3_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\n// isSTIUrl returns true if the given url is a sti-v1, sti-v2 or sti-v3 URL.\nvar isSTIUrl = function (url) {\n  var path = url.split('/').slice(3).join('/');\n  return !![\n    STI_V3_PATH_PAT,\n    STI_V2_PATH_PAT,\n    STI_V1_PATH_PAT ].find(function (p) { return p.test(path); })\n};\n\n// isShuttleUrl returns true if the given URL is a shuttle-v1/v2 URL.\nvar isShuttleUrl = function (url) { return SHUTTLE_PATH_PAT.test(url.split('/').slice(3).join('/')); };\n\n// createVariantUrl returns a variant URL for given url based on given\n// parameter set and the optional extension.\n// When the given URL is variant URL a new variant URL is returned that carries\n// the given parameter set.\nvar createVariantUrl = function (url, params, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var pathParams = normalizePathParams(params);\n\n  if (!pathParams.length) {\n    throw new Error(\"Require valid set of path parameters\")\n  }\n\n  return buildUrl(assign({}, urlParts, {\n    path: getPathBuilder(pathInfo.type)(pathInfo, pathParams, ext),\n  }))\n};\n\n// getSourceUrl returns the associated source URL or path for given url/path.\nvar getSourceUrl = function (url, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var path = getSourcePath(pathInfo, ext);\n\n  return buildUrl(assign({}, urlParts, { path: path }))\n};\n\n// extendPathParams will append the given parameter set to returns a new URL or path\nvar extendPathParams = function (url, params) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var pathParams = normalizePathParams(params);\n\n  if (!pathParams.length) {\n    throw new Error(\"Require valid set of path parameters\")\n  }\n\n  if (!isSTIPath(pathInfo)) {\n    throw new Error((\"Parameter extension of type '\" + (pathInfo.type) + \"' paths not implemented\"))\n  }\n\n  return buildUrl(assign({}, urlParts, {\n    path: getPathBuilder(pathInfo.type)(pathInfo, pathInfo.params.concat(pathParams)),\n  }))\n};\n\n// getPathParams returns the parameter set for given URL or path\nvar getPathParams = function (url) { return parsePath(url).params; };\n\nvar genSTIPathId = function (size) {\n  var id = '';\n\n  while (id.length < size) {\n    id += Math.random().toString(16).slice(2);\n  }\n\n  return id.slice(0, size)\n};\n\n// createSTIPath returns a unique sti-v3 path.\nvar createSTIPath = function (ext, name) {\n  if ( name === void 0 ) name = '';\n\n  var id = genSTIPathId(32);\n  var params = encodeSTIPathParams(id, []);\n\n  if (name) {\n    name = \"_\" + name;\n  }\n\n  ext = normalizeExtension(ext);\n\n  return ((id.substr(0, 2)) + \"/\" + (id.substr(2, 2)) + \"/\" + (id.substr(4, 2)) + \"/\" + (id.substr(6)) + \"_\" + params + name + \".\" + ext)\n};\n\nvar normalizeExtension = function (ext) { return (ext || '').replace(/^\\.*/, ''); };\n\nvar genUniqId = function (size) {\n  var s = '';\n\n  while (s.length < size) {\n    s += Math.random().toString(32).slice(2);\n  }\n\n  return s.slice(0, size)\n};\n\n// createShuttlePath returns a unique shuttle-v2 path.\nvar createShuttlePath = function (ext, base, name) {\n  if ( base === void 0 ) base = '';\n  if ( name === void 0 ) name = '';\n\n  var id = genUniqId(32);\n\n  if (!base) {\n    base = (id.substr(0, 2)) + \"/\" + (id.substr(2, 2));\n  }\n\n  if (name) {\n    name = \"-\" + name;\n  }\n\n  ext = normalizeExtension(ext);\n\n  return ((base.replace(/^\\/*|\\/*$/g, '')) + \"/\" + (id.substr(4)) + name + \".\" + ext)\n};\n\nvar indexOfActionInParams = function (action, params) {\n  for (var i in params) {\n    if (params[i][0] === action) {\n      return parseInt(i)\n    }\n  }\n  return -1\n};\n\nvar updateVariantUrl = function (url, params, ext) {\n  var urlParts = parseUrl(url);\n  var pathInfo = parsePath(urlParts.path);\n  var origParams = normalizePathParams(pathInfo.params);\n\n  if (!isVariant(pathInfo) || (urlParts.type && urlParts.type.match(/^sti-/) === null)) {\n    return createVariantUrl(url, params, ext)\n  }\n\n  var exchangeR = indexOfActionInParams('c', origParams) > -1 || indexOfActionInParams('c', params) > -1 || indexOfActionInParams('re', params) > -1;\n  for (var origIndex in origParams) {\n    origParams[origIndex][0] = exchangeR && origParams[origIndex][0] === 'r' ? 're' : origParams[origIndex][0];\n  }\n  var origIndexes = origParams.reduce(function (m, value, index) { m[value[0]] = index; return m }, {});\n  for (var i in params) {\n    var action = params[i];\n    action[0] = exchangeR && action[0] === 'r' ? 're' : action[0];\n    if (origIndexes.hasOwnProperty(action[0])) {\n      origParams.splice(origIndexes[action[0]], 1, action);\n    } else {\n      origParams.push(action);\n    }\n  }\n  return createVariantUrl(url, origParams, ext)\n};\n\nvar index = {\n  createShuttlePath: createShuttlePath,\n  createSTIPath: createSTIPath,\n  createVariantUrl: createVariantUrl,\n  extendPathParams: extendPathParams,\n  getPathParams: getPathParams,\n  getSourceUrl: getSourceUrl,\n  isShuttlePath: isShuttlePath,\n  isShuttleUrl: isShuttleUrl,\n  isSTIPath: isSTIPath,\n  isSTIUrl: isSTIUrl,\n  isSTIv1Url: isSTIv1Url,\n  isSTIv2Url: isSTIv2Url,\n  isSTIv3Url: isSTIv3Url,\n  parsePath: parsePath,\n  parseUrl: parseUrl,\n  indexOfActionInParams: indexOfActionInParams,\n  updateVariantUrl: updateVariantUrl,\n};\n\nreturn index;\n\n})));\n","!function(e,n){\"function\"==typeof define&&define.amd?define(n):\"object\"==typeof exports?module.exports=n():e.smbObserve=n()}(this,function(){var r=function(t,n,o,r,e){var i,c=!1,s=!1,f=p();if(r||(r=0),o||e){var a=function(){if(e&&s)try{e()}catch(e){console.error(e)}s=!1},u=function(e){if(o&&!s){try{o()}catch(e){console.error(e)}n&&(f?d.unobserve(e.target):window.removeEventListener(\"scroll\",w,{capture:!1,passive:!0}))}s=!0},v=function(){var e=(i=t.getBoundingClientRect()).top<=window.innerHeight+r,n=0<=i.bottom+r;e&&n?u():a(),c=!1},w=function(){if(c)return!1;window.requestAnimationFrame?(window.requestAnimationFrame(v),c=!0):v()};if(f){var d=new IntersectionObserver(function(e){e.forEach(function(e){0<e.intersectionRatio?u(e):a()})},{rootMargin:\"0px 0px \"+r+\"px\"});d.observe(t)}else window.addEventListener(\"scroll\",w,{capture:!1,passive:!0})}},p=function(){return\"IntersectionObserver\"in window&&\"IntersectionObserverEntry\"in window&&\"intersectionRatio\"in window.IntersectionObserverEntry.prototype};return{once:function(e,n,t,o){r(e,!0,n,t,o)},repeat:function(e,n,t,o){r(e,!1,n,t,o)}}});","/**\n * @file embedo.js\n *\n * Embedo is third party content embed plugin with features having events and resizing.\n * It provides a layer above popular social media sites native embed snippets\n * making it easier to hook content without modifying much code.\n *\n * @author Shobhit Sharma <hi@shobh.it>\n * @license MIT\n */\n\n'use strict';\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else if (root) {\n    root.Embedo = window.Embedo = factory();\n  }\n})(this, function () {\n  /**\n   * @class Embedo Prototype\n   *\n   * @param {object} options Initialize options.\n   */\n  function Embedo(options) {\n    this.options = options || Embedo.defaults.OPTIONS;\n    this.requests = [];\n    this.events = [];\n\n    this.init(this.options);\n\n    return this;\n  }\n\n  /**\n   * @constant\n   * Embedo defaults\n   *\n   * @description Embedo defaults contains basic configuration and values required to build internal engine.\n   */\n  Object.defineProperty(Embedo, 'defaults', {\n    value: {\n      OPTIONS: {\n        facebook: null,\n        twitter: false,\n        instagram: false,\n        pinterest: false\n      },\n      SOURCES: {\n        facebook: {\n          GLOBAL: 'FB',\n          SDK: '//connect.facebook.net/${locale}/all.js',\n          oEmbed: '//www.facebook.com/plugins/${type}/oembed.json',\n          REGEX: /(?:(?:http|https):\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?([\\w\\-]*)?/g,\n          PARAMS: {\n            version: 'v3.2',\n            cookie: true,\n            appId: null,\n            xfbml: true\n          }\n        },\n        twitter: {\n          GLOBAL: 'twttr',\n          SDK: '//platform.twitter.com/widgets.js',\n          oEmbed: '//publish.twitter.com/oembed',\n          REGEX: /^http[s]*:\\/\\/[www.]*twitter(\\.[a-z]+).*/i,\n          PARAMS: {}\n        },\n        instagram: {\n          GLOBAL: 'instgrm',\n          SDK: '//www.instagram.com/embed.js',\n          oEmbed: '//api.instagram.com/oembed',\n          REGEX: /(http|https)?:\\/\\/(www\\.)?instagram.com\\/p\\/[a-zA-Z0-9_\\/\\?\\-\\=]+/gi,\n          PARAMS: {}\n        },\n        youtube: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//www.youtube.com/embed/',\n          REGEX: /^(?:(?:https?:)?\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu(?:be)?\\.com\\/(?:v\\/|embed\\/|watch(?:\\/|\\?v=))|youtu\\.be\\/)((?:\\w|-){11})(?:\\S+)?$/,\n          PARAMS: null\n        },\n        pinterest: {\n          GLOBAL: 'PinUtils',\n          SDK: '//assets.pinterest.com/js/pinit.js',\n          oEmbed: null,\n          REGEX: /(https?:\\/\\/(ww.)?)?pinterest(\\.[a-z]+).*/i,\n          PARAMS: {}\n        },\n        vimeo: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//vimeo.com/api/oembed.json',\n          REGEX: /(http|https)?:\\/\\/(www\\.)?vimeo(\\.[a-z]+)\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|)(\\d+)(?:|\\/\\?)/,\n          PARAMS: {}\n        },\n        github: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: null,\n          REGEX: /(http|https):\\/\\/gist\\.github\\.com\\/(\\w+)\\/(\\w+)/,\n          PARAMS: {}\n        },\n        soundcloud: {\n          GLOBAL: null,\n          SDK: null,\n          oEmbed: '//soundcloud.com/oembed',\n          REGEX: /^(http|https):\\/\\/soundcloud\\.com\\/(\\w+)\\/.*$/,\n          PARAMS: {}\n        }\n      },\n      RESTRICTED: ['url', 'strict', 'height', 'width', 'centerize', 'jsonp']\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  // Application Logger\n  Object.defineProperty(Embedo, 'log', {\n    value: function log(type) {\n      if (!Embedo.debug) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console[type] !== 'undefined') {\n        console[type].apply(console, Array.prototype.slice.call(arguments, 1));\n      }\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  // Plugins Loader\n  Object.defineProperty(Embedo, 'plugins', {\n    value: function load(plugins) {\n      if (!plugins) {\n        return;\n      }\n      if (plugins instanceof Array) {\n        plugins.forEach(function (plugin) {\n          if (typeof plugin === 'function') {\n            plugin(Embedo);\n          }\n        });\n      } else if (plugins === 'fuction') {\n        plugins(Embedo);\n      }\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  /**\n   * Helper utlities\n   * @method utils\n   *\n   * @private\n   */\n  Object.defineProperty(Embedo, 'utils', {\n    value: Object.create({\n      /**\n       * @function uuid\n       */\n      uuid: function uuid() {\n        var primary = (Math.random() * 0x10000) | 0;\n        var secondary = (Math.random() * 0x10000) | 0;\n        primary = ('000' + primary.toString(36)).slice(-3);\n        secondary = ('000' + secondary.toString(36)).slice(-3);\n        return 'embedo_' + primary + secondary;\n      },\n\n      /**\n       * @function extend\n       * @returns {object}\n       */\n      extend: function extend(obj) {\n        obj = obj || {};\n        for (var i = 1; i < arguments.length; i++) {\n          if (!arguments[i]) {\n            continue;\n          }\n          for (var key in arguments[i]) {\n            if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n            }\n          }\n        }\n        return obj;\n      },\n\n      /**\n       * @function merge\n       *\n       * @param {object} destination\n       * @param {object} source\n       * @param {array} preserve\n       * @returns\n       */\n      merge: function merge(destination, source, preserve) {\n        preserve = preserve || [];\n\n        for (var property in source) {\n          if (preserve.indexOf(property) === -1) {\n            destination[property] = source[property];\n          }\n        }\n\n        return destination;\n      },\n\n      /**\n       * @func sequencer\n       * Breaks down array into sequencer\n       *\n       * @param {Array} array\n       * @param {Number} size\n       * @returns\n       */\n      sequencer: function sequencer() {\n        var args = arguments;\n        return {\n          then: function (done) {\n            var counter = 0;\n            for (var i = 0; i < args.length; i++) {\n              args[i](callme);\n            }\n\n            function callme() {\n              counter++;\n              if (counter === args.length) {\n                done();\n              }\n            }\n          }\n        };\n      },\n\n      /**\n       * @func replacer\n       * Replaces ${entity} with object key/value pair\n       *\n       * @param {string} str\n       * @param {object} obj\n       */\n      replacer: function replacer(str, obj) {\n        if (!str || !obj) {\n          return;\n        }\n        if (obj) {\n          for (var key in obj) {\n            if (str) {\n              str = str.split('${' + key + '}').join(obj[key]);\n            }\n          }\n        }\n        return str;\n      },\n\n      /**\n       * @func observer\n       *\n       * Deferred Implementation for Object\n       */\n      observer: (function () {\n        function Deferred() {\n          this.resolved = [];\n          this.rejected = [];\n        }\n        Deferred.prototype = {\n          execute: function (list, args) {\n            var i = list.length;\n            args = Array.prototype.slice.call(args);\n            while (i--) {\n              list[i].apply(null, args);\n            }\n          },\n          resolve: function () {\n            this.execute(this.resolved, arguments);\n          },\n          reject: function () {\n            this.execute(this.rejected, arguments);\n          },\n          done: function (callback) {\n            this.resolved.push(callback);\n            return this;\n          },\n          fail: function (callback) {\n            this.rejected.push(callback);\n            return this;\n          }\n        };\n        return Deferred;\n      })(),\n\n      camelToSnake: function camelToSnake(str) {\n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      },\n\n      /**\n       * @function validateURL\n       *\n       * @param {string} url\n       * @returns\n       */\n      validateURL: function validateURL(url) {\n        return /(http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/.test(\n          url\n        );\n      },\n\n      /**\n       * @function generateElement\n       * Generates DOM element\n       *\n       * @param {string} source\n       * @param {object} attributes\n       * @param {string} html\n       * @returns HTMLElement\n       */\n      generateElement: function generateElement(type, attributes, html) {\n        var el = document.createElement(type);\n        Object.keys(attributes || {}).forEach(function (type) {\n          el.setAttribute(type, attributes[type]);\n        });\n        if (html) {\n          el.innerHTML = html;\n        }\n        return el;\n      },\n\n      /**\n       * @function generateEmbed\n       * Generates Embed Container\n       *\n       * @param {string} source\n       * @param {string} html\n       * @returns\n       */\n      generateEmbed: function generateEmbed(id, source, html) {\n        id = id || Embedo.utils.uuid();\n        var container = document.createElement('div');\n\n        container.setAttribute('id', id);\n        container.setAttribute('data-embedo-id', id);\n        container.setAttribute('data-embedo-source', source);\n\n        if (Embedo.utils.validateElement(html)) {\n          container.appendChild(html);\n        } else {\n          container.innerHTML = html || '';\n        }\n\n        return container;\n      },\n\n      /**\n       * @function generateScript\n       * Generates script tag element\n       *\n       * @param {string} source\n       * @returns HTMLElement\n       */\n      generateScript: function generateScript(source) {\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = encodeURI(source);\n        script.setAttribute('async', '');\n        script.setAttribute('charset', 'utf-8');\n        return script;\n      },\n\n      /**\n       * @function validateElement\n       * Validates if passed argument is valid DOM element\n       *\n       * @param {object} obj\n       * @returns HTMLElement\n       */\n      validateElement: function validateElement(obj) {\n        return typeof HTMLElement === 'object' ?\n          obj instanceof window.HTMLElement :\n          obj &&\n          typeof obj === 'object' &&\n          obj !== null &&\n          obj.nodeType === 1 &&\n          typeof obj.nodeName === 'string';\n      },\n\n      /**\n       * @function sdkReady\n       * Checks when SDK global object is ready\n       *\n       * @param {string} type\n       * @param {function} callback\n       */\n      sdkReady: function sdkReady(type, callback) {\n        callback = callback || function () {};\n        if (!Embedo.defaults.SOURCES[type]) {\n          return callback(new Error('unsupported_sdk_type'));\n        }\n        var counter = 0;\n        (function check() {\n          counter++;\n          if (counter > 15) {\n            return callback(new Error(type + ':sdk_not_available'));\n          }\n          if (window[Embedo.defaults.SOURCES[type].GLOBAL]) {\n            return callback(null, window[Embedo.defaults.SOURCES[type].GLOBAL]);\n          }\n          setTimeout(check, 10 * counter);\n        })(type);\n      },\n\n      /**\n       * @function querystring\n       * Object to Query String\n       *\n       * @param {object} obj\n       * @returns {string}\n       */\n      querystring: function querystring(obj) {\n        var parts = [];\n\n        for (var i in obj) {\n          if (obj.hasOwnProperty(i)) {\n            parts.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n          }\n        }\n\n        return parts.join('&');\n      },\n\n      /**\n       * @function fetch\n       * JSONP XHR fetch\n       *\n       * @param {string} url\n       * @param {object} options\n       * @param {function} callback\n       */\n      fetch: function fetch(url, options, callback) {\n        if (typeof options === 'function') {\n          callback = options;\n          options = {};\n        }\n        options = options || {};\n        options.callback = options.callback || 'callback';\n        var target = document.head || document.getElementsByTagName('head')[0];\n        var script = document.createElement('script');\n        var jsonpCallback = 'jsonp_' + Embedo.utils.uuid();\n        url += (~url.indexOf('?') ? '&' : '?') + options.callback + '=' + encodeURIComponent(jsonpCallback);\n        url = url.replace('?&', '?');\n\n        window[jsonpCallback] = function (data) {\n          clear(jsonpCallback, script);\n          callback(null, data);\n        };\n\n        script.type = 'text/javascript';\n        script.defer = true;\n        script.charset = 'UTF-8';\n        script.onerror = function (err) {\n          clear(jsonpCallback, script);\n          return callback(err);\n        };\n        target.appendChild(script);\n        script.src = url;\n\n        function clear(jsonpCallback, script) {\n          try {\n            delete window[jsonpCallback];\n          } catch (e) {\n            window[jsonpCallback] = undefined;\n          }\n          if (script) {\n            target.removeChild(script);\n            script = undefined;\n          }\n        }\n      },\n\n      /**\n       * XHR HTTP Requests\n       *\n       * @param {string} url\n       * @param {object} options\n       * @param {Function} callback\n       */\n      ajax: function ajax(url, options, callback) {\n        if (typeof options === 'function') {\n          callback = options;\n          options = {};\n        }\n        callback = callback || function () {};\n        var xhr = new XMLHttpRequest();\n        xhr.onload = function () {\n          if (xhr.status >= 400) {\n            return callback(new Error(xhr.responseText || xhr.statusText));\n          }\n          try {\n            return callback(null, JSON.parse(xhr.responseText));\n          } catch (e) {\n            return callback(new Error('invalid_response'));\n          }\n        };\n        xhr.onerror = function (err) {\n          return callback(err);\n        };\n        xhr.open('GET', url);\n        xhr.send();\n      },\n\n      /**\n       * @function transform\n       * Cross Browser CSS Transformation\n       *\n       * @param {HTMLElement} element\n       * @param {string} props\n       */\n      transform: function transform(element, props) {\n        if (!Embedo.utils.validateElement(element)) {\n          return;\n        }\n        element.style.webkitTransform = props;\n        element.style.MozTransform = props;\n        element.style.msTransform = props;\n        element.style.OTransform = props;\n        element.style.transform = props;\n      },\n\n      /**\n       * @function compute\n       * Computes property value of HTMLElement\n       *\n       * @param {HTMLElement} el\n       * @param {string} prop\n       * @param {Boolean} stylesheet\n       * @returns {Number}\n       */\n      compute: function compute(el, prop, is_computed) {\n        if (!Embedo.utils.validateElement(el) || !prop) {\n          return;\n        }\n\n        var bounds = el.getBoundingClientRect();\n        var value = bounds[prop];\n\n        if (is_computed || !value) {\n          if (document.defaultView && document.defaultView.getComputedStyle) {\n            value = document.defaultView.getComputedStyle(el, '').getPropertyValue(prop);\n          } else if (el.currentStyle) {\n            prop = prop.replace(/\\-(\\w)/g, function (m, p) {\n              return p.toUpperCase();\n            });\n            value = el.currentStyle[prop];\n          }\n        }\n\n        if (typeof value === 'string' && !/^\\d+(\\.\\d+)?%$/.test(value)) {\n          value = value.replace(/[^\\d.-]/g, '');\n        }\n\n        return isNaN(Number(value)) ? value : Number(value);\n      },\n\n      /**\n       * @method convertToPx\n       * Calculates approximate pixel value for vw, vh or % values\n       *\n       * @implements relative_px\n       * @implements percent_px\n       */\n      convertToPx: function convertToPx(el, prop, value) {\n        if (!isNaN(Number(value))) {\n          return Number(value);\n        } else if (/^\\d+(\\.\\d+)?%$/.test(value)) {\n          return percent_px(el, prop, value);\n        } else if (value.match(/(vh|vw)/)) {\n          var dimension = value.replace(/[0-9]/g, '');\n          return relative_px(dimension, value);\n        }\n\n        // Converts vw or vh to PX\n        function relative_px(type, value) {\n          var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.body,\n            x = w.innerWidth || e.clientWidth || g.clientWidth,\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n          if (type === 'vw') {\n            return (x * parseFloat(value)) / 100;\n          } else if (type === 'vh') {\n            return (y * parseFloat(value)) / 100;\n          } else {\n            return undefined;\n          }\n        }\n\n        // Converts % to PX\n        function percent_px(el, prop, percent) {\n          var parent_width = Embedo.utils.compute(el.parentNode, prop, true);\n          percent = parseFloat(percent);\n          return parent_width * (percent / 100);\n        }\n      },\n\n      /**\n       * @function watcher\n       *\n       * @param {string} Identifer\n       * @param {Function} Function to Trigger\n       * @param {integer} timer\n       *\n       * @returns {Function}\n       */\n      watcher: function watcher(id, fn, timer) {\n        window.EMBEDO_WATCHER = window.EMBEDO_WATCHER || {};\n        window.EMBEDO_WATCHER[id] = window.EMBEDO_WATCHER[id] || {\n          id: id,\n          count: 0,\n          request: null\n        };\n\n        if (window.EMBEDO_WATCHER[id].count > 0 && window.EMBEDO_WATCHER[id].request) {\n          window.EMBEDO_WATCHER[id].count -= 1;\n          clearTimeout(window.EMBEDO_WATCHER[id].request);\n        }\n\n        window.EMBEDO_WATCHER[id].count += 1;\n        window.EMBEDO_WATCHER[id].request = setTimeout(function () {\n          window.EMBEDO_WATCHER[id].count -= 1;\n          if (window.EMBEDO_WATCHER[id].count === 0) {\n            fn.call();\n          }\n        }, timer);\n\n        return null;\n      },\n\n      /**\n       * @function dimensions\n       *\n       * @param {HTMLElement} el\n       * @param {string} width\n       * @param {string} height\n       *\n       * @returns {object{width,height}}\n       */\n      dimensions: function dimensions(el, width, height) {\n        var el_width = Embedo.utils.compute(el, 'width');\n        width = width ?\n          width :\n          el_width > 0 ?\n          el_width :\n          Embedo.utils.compute(el.parentNode, 'width');\n        height = height ?\n          height :\n          el_width > 0 ?\n          el_width / 1.5 :\n          Embedo.utils.compute(el.parentNode, 'height');\n        return {\n          width: width,\n          height: height\n        };\n      },\n\n      /**\n       * @function centerize\n       * Align an element center in relation to parent div\n       *\n       * @param {HTMLElement} parent_el\n       * @param {HTMLElement} child_el\n       * @param {object} options\n       * @returns\n       */\n      centerize: function centerize(parent_el, child_el, options) {\n        Embedo.log('info', 'centerize', parent_el, child_el, options);\n        if (!Embedo.utils.validateElement(parent_el) || !Embedo.utils.validateElement(child_el)) {\n          return;\n        }\n        options = options || {};\n\n        if (options.width) {\n          parent_el.style.width = options.width;\n          parent_el.style.maxWidth = options.width;\n          parent_el.style.marginLeft = 'auto';\n          parent_el.style.marginRight = 'auto';\n        }\n\n        if (options.height) {\n          parent_el.style.height = options.height;\n          parent_el.style.maxHeight = options.height;\n        }\n\n        child_el.style.display = '-moz-box';\n        child_el.style.display = '-ms-flexbox';\n        child_el.style.display = '-webkit-flex';\n        child_el.style.display = '-webkit-box';\n        child_el.style.display = 'flex';\n        child_el.style.textAlign = 'center';\n        child_el.style['justify-content'] = 'center';\n        child_el.style['align-items'] = 'center';\n        child_el.style.margin = '0 auto';\n      },\n\n      /**\n       * @function handleScriptValidation\n       *\n       * @param {string} url\n       */\n      handleScriptValidation: function handleScriptValidation(url) {\n        if (!url) {\n          return;\n        }\n        url = url.split('#')[0];\n        var scripts = document.getElementsByTagName('script');\n        for (var i = scripts.length; i--;) {\n          if (scripts[i].src === url) {\n            return true;\n          }\n        }\n        return false;\n      }\n    }),\n    writable: false,\n    enumerable: true,\n    configurable: false\n  });\n\n  /**\n   * Embedo Event Listeners\n   * @private\n   *\n   * @implements on\n   * @implements off\n   * @implements emit\n   */\n  Object.defineProperties(Embedo.prototype, {\n    on: {\n      value: function (event, listener) {\n        if (typeof this.events[event] !== 'object') {\n          this.events[event] = [];\n        }\n        this.events[event].push(listener);\n      },\n      writable: false,\n      configurable: false\n    },\n    off: {\n      value: function (event, listener) {\n        var index;\n        if (typeof this.events[event] === 'object') {\n          index = this.events[event].indexOf(listener);\n          if (index > -1) {\n            this.events[event].splice(index, 1);\n          }\n        }\n      },\n      writable: false,\n      configurable: false\n    },\n    emit: {\n      value: function (event) {\n        var i,\n          listeners,\n          length,\n          args = [].slice.call(arguments, 1);\n        if (typeof this.events[event] === 'object') {\n          listeners = this.events[event].slice();\n          length = listeners.length;\n\n          for (i = 0; i < length; i++) {\n            listeners[i].apply(this, args);\n          }\n        }\n      },\n      writable: false,\n      configurable: false\n    },\n    once: {\n      value: function (event, listener) {\n        this.on(event, function g() {\n          this.off(event, g);\n          listener.apply(this, arguments);\n        });\n      },\n      writable: false,\n      configurable: false\n    }\n  });\n\n  /**\n   * @method init\n   * Primary Embedo initialization\n   *\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.init = function (options) {\n    Embedo.log('info', 'init', this.requests, options);\n\n    // Append enabled SDKs to DOM\n    Object.keys(Embedo.defaults.SOURCES).forEach(function (source) {\n      if (Embedo.defaults.SOURCES[source].SDK) {\n        appendSDK(source, options[source]);\n      }\n    });\n\n    this.domify();\n\n    /**\n     * @func appendSDK\n     * Injects SDK's to body\n     * @private\n     *\n     * @param {*} type\n     * @param {*} props\n     */\n    function appendSDK(type, props) {\n      if (!type || !props) {\n        return;\n      }\n      var sdk = Embedo.utils.replacer(Embedo.defaults.SOURCES[type.toLowerCase()].SDK, {\n        locale: props.locale || window.navigator.language || 'en_US'\n      });\n\n      if (!Embedo.utils.handleScriptValidation(sdk)) {\n        if (props && typeof props === 'object') {\n          sdk += (type === 'facebook' ? '#' : '?') + Embedo.utils.querystring(props);\n        }\n        document.body.appendChild(Embedo.utils.generateScript(sdk));\n      }\n    }\n  };\n\n  /**\n   * @method domify\n   * Replaces \"data-embedo-*\" elements during initialization.\n   */\n  Embedo.prototype.domify = function domify() {\n    var embedos = document.querySelectorAll('[data-embedo-url]');\n    [].forEach.call(embedos, function (embedo_el) {\n      var options = Object.keys(embedo_el.dataset || {}).reduce(function (acc, cur) {\n        if (cur.indexOf('embedo') !== -1) {\n          var option = Embedo.utils.camelToSnake(cur).replace('embedo-', '');\n          acc[option] = embedo_el.dataset[cur];\n        }\n        return acc;\n      }, {});\n\n      this.render(embedo_el, options.url, options);\n    }.bind(this));\n  };\n\n  /**\n   * @method facebook\n   * Facebook embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.facebook = function facebook(id, element, url, options, callback) {\n    var type, fb_html_class;\n\n    if (/^([^\\/?].+\\/)?post|photo(s|\\.php)[\\/?].*$/gm.test(url)) {\n      type = url.match(/comment_id|reply_comment_id/) ? 'comment' : 'post';\n    } else if (/^([^\\/?].+\\/)?video(s|\\.php)[\\/?].*$/gm.test(url)) {\n      type = 'video';\n    }\n\n    if (type && type.match(/post|video/)) {\n      var embed_uri = Embedo.utils.replacer(Embedo.defaults.SOURCES.facebook.oEmbed, {\n        type: type\n      });\n      var query = Embedo.utils.merge({\n          url: encodeURI(url),\n          omitscript: true\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      );\n\n      if ('width' in options || 'maxwidth' in options) {\n        query.maxwidth = options.maxwidth || options.width;\n      }\n\n      embed_uri += '?' + Embedo.utils.querystring(query);\n\n      Embedo.utils.fetch(embed_uri, function (error, content) {\n        if (error) {\n          Embedo.log('error', 'facebook', error);\n          return callback(error);\n        }\n        handleFacebookEmbed(content.html);\n      });\n    } else {\n      if (type === 'comment' || url.match(/comment_id|reply_comment_id/)) {\n        fb_html_class = 'fb-comment-embed';\n        options['data-numposts'] = options['data-numposts'] || 5;\n      } else if (url.match(/plugins\\/comments/)) {\n        fb_html_class = 'fb-comments';\n      } else {\n        fb_html_class = 'fb-page';\n        options['data-height'] =\n          options['data-height'] || options.maxheight || options.height || 500;\n      }\n\n      var fb_html = Embedo.utils.generateElement(\n        'div',\n        Embedo.utils.merge({\n            class: fb_html_class,\n            'data-href': url,\n            'data-width': options['data-width'] || options.maxwidth || options.width || 350\n          },\n          options\n        )\n      );\n\n      fb_html.removeAttribute('width');\n      fb_html.removeAttribute('height');\n      handleFacebookEmbed(fb_html);\n    }\n\n    function handleFacebookEmbed(html) {\n      var container = Embedo.utils.generateEmbed(id, 'facebook', html);\n      element.appendChild(container);\n\n      facebookify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    }\n  };\n\n  /**\n   * Twitter embed prototype\n   * @method twitter\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.twitter = function twitter(id, element, url, options, callback) {\n    var embed_uri = Embedo.defaults.SOURCES.twitter.oEmbed;\n    var query = Embedo.utils.merge({\n        url: encodeURI(url),\n        omit_script: 1\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n\n    if ('width' in options || 'maxwidth' in options) {\n      query.maxwidth = options.maxwidth || options.width;\n    }\n\n    if ('height' in options || 'maxheight' in options) {\n      query.maxheight = options.maxheight || options.height;\n    }\n\n    embed_uri += '?' + Embedo.utils.querystring(query);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'twitter', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'twitter', content.html);\n      element.appendChild(container);\n\n      twitterify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    });\n  };\n\n  /**\n   * @method instagram\n   * Instagram embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.instagram = function (id, element, url, options, callback) {\n    var embed_uri = Embedo.defaults.SOURCES.instagram.oEmbed;\n    var query = Embedo.utils.merge({\n        url: encodeURI(url),\n        omitscript: true,\n        hidecaption: true\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n\n    if ('width' in options || 'maxwidth' in options) {\n      options.width = options.maxwidth ? options.maxwidth : options.width;\n      if (options.width > 320) {\n        query.maxwidth = options.width;\n      }\n    }\n\n    embed_uri += '?' + Embedo.utils.querystring(query);\n\n    var method = options.jsonp ? 'jsonp' : 'ajax';\n\n    Embedo.utils[method](embed_uri, function (err, content) {\n      if (err) {\n        Embedo.log('error', 'instagram', err);\n        // If oembed or instagram embed script is unavailable.\n        if (options.jsonp === undefined || options.jsonp === null) {\n          var extracted_url = url.match(Embedo.defaults.SOURCES.instagram.REGEX);\n          url = extracted_url && extracted_url.length > 0 ? extracted_url[0].replace(/\\/$/, '') : url;\n          return this.iframe(id, element, url + '/embed/', options, callback);\n        }\n        return callback(err);\n      }\n\n      var container = Embedo.utils.generateEmbed(id, 'instagram', content.html);\n      element.appendChild(container);\n\n      instagramify(\n        element,\n        container, {\n          id: id,\n          url: url,\n          strict: options.strict,\n          width: options.width,\n          height: options.height,\n          centerize: options.centerize\n        },\n        function (err, result) {\n          if (err) {\n            return callback(err);\n          }\n          callback(null, {\n            id: id,\n            el: element,\n            width: result.width,\n            height: result.height\n          });\n        }\n      );\n    }.bind(this));\n  };\n\n  /**\n   * @method youtube\n   * YouTube embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.youtube = function (id, element, url, options, callback) {\n    if (!getYTVideoID(url)) {\n      Embedo.log('error', 'youtube', 'Unable to detect Youtube video id.');\n      return callback('Unable to detect Youtube video id.');\n    }\n\n    var youtube_uri = Embedo.defaults.SOURCES.youtube.oEmbed + getYTVideoID(url);\n    youtube_uri += '?' + Embedo.utils.querystring(\n      Embedo.utils.merge({\n          modestbranding: 1,\n          autohide: 1,\n          showinfo: 0\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      )\n    );\n\n    this.iframe(id, element, youtube_uri, options, callback);\n\n    /**\n     * @func getYTVideoID\n     * @private\n     *\n     * @param {string} url\n     * @returns {String|Boolean}\n     */\n    function getYTVideoID(url) {\n      var regexp = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i;\n      var match = url.match(regexp);\n      return match && match.length === 2 ? match[1] : false;\n    }\n  };\n\n  /**\n   * @method vimeo\n   * Vimeo embed prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.vimeo = function (id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var embed_options = Embedo.utils.merge({\n        url: url,\n        width: size.width,\n        height: size.height,\n        autohide: 1\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n    var embed_uri =\n      Embedo.defaults.SOURCES.vimeo.oEmbed + '?' + Embedo.utils.querystring(embed_options);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'vimeo', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'vimeo', content.html);\n      element.appendChild(container);\n\n      callback(null, {\n        id: id,\n        el: element,\n        width: size.width,\n        height: size.height\n      });\n    });\n  };\n\n  /**\n   * @method pinterest\n   * Pinterest Embed\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.pinterest = function (id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var pin_size = size.width > 600 ? 'large' : size.width < 345 ? 'small' : 'medium';\n    var pin_el = Embedo.utils.generateElement(\n      'a',\n      Embedo.utils.merge({\n          href: url,\n          'data-pin-do': options['data-pin-do'] || 'embedPin',\n          'data-pin-lang': options['data-pin-lang'] || 'en',\n          'data-pin-width': pin_size\n        },\n        options\n      )\n    );\n    var container = Embedo.utils.generateEmbed(id, 'pinterest', pin_el);\n\n    element.appendChild(container);\n\n    pinterestify(\n      element,\n      container, {\n        id: id,\n        url: url,\n        strict: options.strict,\n        width: options.width,\n        height: options.height,\n        centerize: options.centerize\n      },\n      function (err, result) {\n        if (err) {\n          Embedo.log('error', 'pinterest', err);\n          return callback(err);\n        }\n        callback(null, {\n          id: id,\n          el: element,\n          width: result.width,\n          height: result.height\n        });\n      }\n    );\n  };\n\n  /**\n   * @method github\n   * Embed github URLs (gist) to DOM\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.github = function github(id, element, url, options, callback) {\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var iframe = Embedo.utils.generateElement('iframe',\n      Embedo.utils.merge({\n          width: size.width,\n          height: size.height\n        },\n        options,\n        Embedo.defaults.RESTRICTED\n      )\n    );\n    var container = Embedo.utils.generateEmbed(id, 'github', iframe);\n\n    element.appendChild(container);\n    iframe.contentWindow.document.open();\n    iframe.contentWindow.document.write(\n      '<body><style type=\"text/css\">body,html{margin:0;padding:0;border-radius:3px;}' +\n      '.gist .gist-file{margin:0 !important;padding:0;}</style>' +\n      '<script src=\"' + url + '\"></script>' +\n      '</body>'\n    );\n    iframe.contentWindow.document.close();\n    iframe.onerror = function (err) {\n      callback(err);\n    };\n    iframe.addEventListener(\"load\", function (event) {\n      callback(null, {\n        id: id,\n        el: element,\n        event: event,\n        width: Embedo.utils.compute(container, 'width'),\n        height: Embedo.utils.compute(container, 'height')\n      });\n    });\n  };\n\n  /**\n   * @method soundcloud\n   * SoundCloud Embed Player (api-web) prototype\n   *\n   * @see https://developers.soundcloud.com/docs/oembed\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.soundcloud = function (id, element, url, options, callback) {\n    if (options.hasOwnProperty('width') && options.width) {\n      options.maxwidth = options.maxwidth || options.width || '100%';\n    }\n    if (options.hasOwnProperty('height') && options.height) {\n      options.maxheight = options.maxheight || options.height;\n    }\n    var size = Embedo.utils.dimensions(element, options.maxwidth, options.maxheight);\n    var embed_options = Embedo.utils.merge({\n        url: encodeURI(url),\n        format: 'js' // Defaults JSONP\n      },\n      options,\n      Embedo.defaults.RESTRICTED\n    );\n    var embed_uri =\n      Embedo.defaults.SOURCES.soundcloud.oEmbed + '?' + Embedo.utils.querystring(embed_options);\n\n    Embedo.utils.fetch(embed_uri, function (error, content) {\n      if (error) {\n        Embedo.log('error', 'soundcloud', error);\n        return callback(error);\n      }\n      var container = Embedo.utils.generateEmbed(id, 'soundcloud', content.html);\n      element.appendChild(container);\n\n      callback(null, {\n        id: id,\n        el: element,\n        width: size.width,\n        height: size.height\n      });\n    });\n  };\n\n  /**\n   * @method iframe\n   * Embed URLs to HTML5 frame prototype\n   *\n   * @param {number} id\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.iframe = function (id, element, url, options, callback) {\n    var fragment = document.createDocumentFragment();\n    var size = Embedo.utils.dimensions(element, options.width, options.height);\n    var extension = (url.substr(url.lastIndexOf('.')) || '').replace('.', '').toLowerCase();\n    var mimes = {\n      csv: 'text/csv',\n      pdf: 'application/pdf',\n      gif: 'image/gif',\n      js: 'application/javascript',\n      json: 'application/json',\n      xhtml: 'application/xhtml+xml',\n      pps: 'application/vnd.ms-powerpoint',\n      ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n      xml: 'application/xml',\n      ogg: 'video/ogg',\n      mp4: 'video/mp4',\n      webm: 'video/webm',\n      html: 'text/html'\n    };\n    var mimetype = mimes[extension] || mimes.html;\n    var has_video = extension.match(/(mp4|ogg|webm|ogv|ogm)/);\n    var el_type = has_video ? 'video' : options.tagName || 'embed';\n    var override = Embedo.utils.merge({}, options, Embedo.defaults.RESTRICTED);\n    var embed_el = Embedo.utils.generateElement(el_type,\n      Embedo.utils.merge({\n          type: mimetype,\n          src: url,\n          width: size.width,\n          height: size.height\n        },\n        override\n      )\n    );\n\n    fragment.appendChild(Embedo.utils.generateEmbed(id, 'iframe', embed_el));\n    element.appendChild(fragment);\n\n    if (el_type === 'video') {\n      setTimeout(function () {\n        callback(null, {\n          id: id,\n          el: element,\n          width: Embedo.utils.compute(embed_el, 'width'),\n          height: Embedo.utils.compute(embed_el, 'height')\n        });\n      }, 250);\n    } else {\n      embed_el.onerror = function (err) {\n        callback(err);\n      };\n      embed_el.addEventListener(\"load\", function (event) {\n        callback(null, {\n          id: id,\n          el: element,\n          event: event,\n          width: Embedo.utils.compute(embed_el, 'width'),\n          height: Embedo.utils.compute(embed_el, 'height')\n        });\n      });\n    }\n  };\n\n  /**\n   * @method render\n   * Renders an embedo instance\n   *\n   * @name load\n   * @param {HTMLElement} element\n   * @param {string} url\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.render = function (element, url, options, callback) {\n    Embedo.log('info', 'render', element, url, options);\n    options = options || {};\n    callback = callback || function () {};\n\n    if (!element || !Embedo.utils.validateElement(element)) {\n      Embedo.log('info', 'render', '`element` is either missing or invalid');\n      return this.emit('error', new Error('element_is_missing'));\n    }\n\n    if (typeof url !== 'string') {\n      return this.emit('error', new Error('invalid_url_string'));\n    }\n\n    if (!url || !Embedo.utils.validateURL(url)) {\n      Embedo.log('info', 'render', '`url` is either missing or invalid');\n      return this.emit('error', new Error('invalid_or_missing_url'));\n    }\n\n    var source = getURLSource(url);\n\n    if (!source) {\n      Embedo.log('info', 'render', new Error('Invalid or Unsupported URL'));\n      return this.emit('error', new Error('url_not_supported'));\n    }\n\n    if (!this[source]) {\n      Embedo.log('info', 'render', new Error('Requested source is not implemented or missing.'));\n      return this.emit('error', new Error('unrecognised_url'));\n    }\n\n    if ('width' in options && options.width) {\n      options.width = Embedo.utils.convertToPx(element, 'width', options.width);\n    }\n\n    if ('height' in options && options.height) {\n      options.height = Embedo.utils.convertToPx(element, 'height', options.height);\n    }\n\n    var id = Embedo.utils.uuid();\n    var request = {\n      id: id,\n      el: element,\n      source: source,\n      url: url,\n      attributes: options\n    };\n\n    this.requests.push(request);\n\n    this.emit('watch', 'load', request);\n\n    this[source](id, element, url, options,\n      function (err, data) {\n        if (err) {\n          this.emit('error', err);\n          return callback(err);\n        }\n        data.url = request.url;\n        data.source = request.source;\n        data.options = request.attributes;\n\n        this.emit('watch', 'loaded', data);\n        callback(null, data);\n      }.bind(this)\n    );\n\n    /**\n     * @function getURLSource\n     * Checks Source from URI\n     *\n     * @param {string} url\n     * @returns {string}\n     */\n    function getURLSource(url) {\n      var urlRegExp = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/;\n      var sources = Object.keys(Embedo.defaults.SOURCES) || [];\n\n      if (!urlRegExp.test(url)) {\n        return null;\n      }\n\n      var matched_source = sources\n        .filter(function (source) {\n          if (Embedo.defaults.SOURCES[source] && url.match(Embedo.defaults.SOURCES[source].REGEX)) {\n            return source;\n          }\n        })\n        .filter(Boolean);\n\n      return matched_source && matched_source.length ? matched_source[0] : 'iframe';\n    }\n  };\n\n  /**\n   * @method load\n   * Loads single or multiple embedo instances\n   *\n   * @name load\n   * @param {HTMLElement} element\n   * @param {String|Array} urls\n   * @param {object} options Optional parameters.\n   * @return callback\n   */\n  Embedo.prototype.load = function (element, urls, options) {\n    Embedo.log('info', 'load', element, urls, options);\n    options = options || {};\n    var observer = new Embedo.utils.observer();\n\n    if (!element || !Embedo.utils.validateElement(element)) {\n      Embedo.log('info', 'load', '`element` is either missing or invalid');\n      this.emit('error', new Error('element_is_missing'));\n    } else {\n      if (urls instanceof Array) {\n        var reqs = {\n          failed: [],\n          finished: []\n        };\n        var jobs = urls.map(\n          function (url) {\n            return function (done) {\n              this.render(element, url, options, function (err, data) {\n                if (err) {\n                  reqs.failed.push(err);\n                  return done(err);\n                }\n                reqs.finished.push(data);\n                done(null, data);\n              });\n            }.bind(this);\n          }.bind(this)\n        );\n\n        Embedo.utils.sequencer.apply(this, jobs).then(function () {\n          if (reqs.failed.length > 0) {\n            return observer.reject(reqs.failed);\n          }\n          observer.resolve(reqs.finished);\n        });\n      } else if (typeof urls === 'string') {\n        this.render(element, urls, options, function (err, data) {\n          if (err) {\n            return observer.reject(err);\n          }\n          observer.resolve(data);\n        });\n      } else {\n        this.emit('error', new Error('invalid_url_string'));\n      }\n    }\n\n    return observer;\n  };\n\n  /**\n   * @method refresh\n   * Refresh single or all embedo instances\n   *\n   * @param {object} element\n   */\n  Embedo.prototype.refresh = function (element) {\n    Embedo.log('info', 'refresh', this.requests, element);\n    if (this.requests.length === 0) {\n      return;\n    }\n    this.requests.forEach(\n      function (request) {\n        if (!request.el) {\n          return;\n        }\n\n        if (request.source === 'iframe') {\n          return this.emit('refresh', request, {\n            width: Embedo.utils.compute(request.el, 'width'),\n            height: Embedo.utils.compute(request.el, 'height')\n          });\n        }\n\n        if (element) {\n          if (!Embedo.utils.validateElement(element)) {\n            return;\n          }\n          if (element === request.el) {\n            automagic(\n              request.el,\n              document.getElementById(request.id),\n              request.attributes,\n              function (err, data) {\n                if (data) {\n                  this.emit('refresh', request, data);\n                }\n              }.bind(this)\n            );\n          }\n        } else {\n          automagic(\n            request.el,\n            document.getElementById(request.id),\n            request.attributes,\n            function (err, data) {\n              if (data) {\n                this.emit('refresh', request, data);\n              }\n            }.bind(this)\n          );\n        }\n      }.bind(this)\n    );\n\n    return this;\n  };\n\n  /**\n   * @method destroy\n   * Destroy an/all instance(s) of embedo\n   *\n   * @param {object} element\n   */\n  Embedo.prototype.destroy = function (element) {\n    Embedo.log('warn', 'destroy', this.requests, element);\n    if (this.requests.length === 0) {\n      return;\n    }\n    var removed = [];\n\n    this.requests.forEach(\n      function (request) {\n        if (!request.el || !Embedo.utils.validateElement(request.el)) {\n          return;\n        }\n        if (element) {\n          if (!Embedo.utils.validateElement(element)) {\n            return;\n          }\n          if (element === request.el) {\n            if (document.getElementById(request.id)) {\n              document.getElementById(request.id).remove();\n            }\n            removed.push(request.id);\n            this.emit('destroy', request);\n          }\n        } else {\n          if (document.getElementById(request.id)) {\n            document.getElementById(request.id).remove();\n          }\n          removed.push(request.id);\n          this.emit('destroy', request);\n        }\n      }.bind(this)\n    );\n\n    this.requests = this.requests.filter(function (request) {\n      return removed.indexOf(request.id) < 0;\n    });\n\n    return this;\n  };\n\n  /**\n   * @function facebookify\n   * Parses Facebook SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function facebookify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('facebook', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      window.FB.XFBML.parse(parentNode);\n      window.FB.Event.subscribe('xfbml.render', function () {\n        // First state will be `parsed` and then `rendered` to acknowledge embed.\n        if (childNode.firstChild) {\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          if (childNode.firstChild.getAttribute('fb-xfbml-state') === 'rendered') {\n            automagic(parentNode, childNode, options, callback);\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * @function twitterify\n   * Parses Twitter SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function twitterify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('twitter', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      window.twttr.widgets.load(childNode);\n      window.twttr.events.bind('rendered', function (event) {\n        if (\n          childNode.firstChild &&\n          childNode.firstChild.getAttribute('id') === event.target.getAttribute('id')\n        ) {\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          automagic(parentNode, childNode, options, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * @function instagramify\n   * Parses Instagram SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function instagramify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('instagram', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      if (!window.instgrm.Embeds || !window.instgrm.Embeds) {\n        return callback(new Error('instagram_sdk_missing'));\n      }\n\n      window.instgrm.Embeds.process(childNode);\n      var instagram_embed_timer = setInterval(handleInstagramRendered, 250);\n\n      function handleInstagramRendered() {\n        if (\n          childNode.firstChild &&\n          childNode.firstChild.className.match(/instagram-media-rendered/)\n        ) {\n          clearInterval(instagram_embed_timer);\n          if (options.centerize !== false) {\n            Embedo.utils.centerize(parentNode, childNode, options);\n          }\n          return automagic(parentNode, childNode, options, callback);\n        }\n      }\n    });\n  }\n\n  /**\n   * @function pinterestify\n   * Parses Pinterest SDK\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function pinterestify(parentNode, childNode, options, callback) {\n    Embedo.utils.sdkReady('pinterest', function (err) {\n      if (err) {\n        return callback(err);\n      }\n      if (!window.PinUtils || !window.PinUtils || !childNode || !childNode.firstChild) {\n        return callback(new Error('pinterest_sdk_missing'));\n      }\n\n      setTimeout(function () {\n        if (!childNode.querySelector('[data-pin-href]')) {\n          window.PinUtils.build(childNode);\n        }\n\n        var pinterest_embed_timer_count = 0;\n        var pinterest_embed_timer = setInterval(function () {\n          pinterest_embed_timer_count += 1;\n          if (childNode.querySelector('[data-pin-href]')) {\n            clearInterval(pinterest_embed_timer);\n            if (options.centerize !== false) {\n              Embedo.utils.centerize(parentNode, childNode, options);\n            }\n            return automagic(parentNode, childNode, options, callback);\n          } else if (pinterest_embed_timer_count >= 20) {\n            clearInterval(pinterest_embed_timer);\n            return callback(new Error('pinterest_embed_failed'));\n          }\n        }, 250);\n      }, 750);\n    });\n  }\n\n  /**\n   * @function automagic\n   * Automagic - Scales and resizes embed container\n   *\n   * @param {HTMLElement} parentNode\n   * @param {HTMLElement} childNode\n   * @param {object} options\n   */\n  function automagic(parentNode, childNode, options, callback) {\n    Embedo.log('info', 'automagic', parentNode, childNode, options);\n    options = options || {};\n    callback = callback || function () {};\n\n    if (!Embedo.utils.validateElement(parentNode) || !Embedo.utils.validateElement(childNode)) {\n      return callback(new Error('HTMLElement does not exist in DOM.'));\n    }\n\n    Embedo.utils.watcher(\n      options.id || Embedo.utils.uuid(),\n      function () {\n        var parent = {\n          width: options.width || Embedo.utils.compute(parentNode, 'width'),\n          height: options.height || Embedo.utils.compute(parentNode, 'height')\n        };\n        var child = {\n          width: Embedo.utils.compute(childNode, 'width'),\n          height: Embedo.utils.compute(childNode, 'height')\n        };\n\n        if (options.strict) {\n          return callback(null, {\n            width: parent.width,\n            height: parent.height\n          });\n        }\n\n        // Odd case when requested height is beyond limit of third party\n        // Only apply when fixed width and heights are provided\n        if (options.width && options.height) {\n          var isOverflowing = child.width > parent.width || child.height > parent.height;\n\n          if (options.width) {\n            childNode.style.width = options.width + 'px';\n          }\n\n          if (options.height) {\n            childNode.style.height = options.height + 'px';\n          }\n\n          if (isOverflowing) {\n            var scale = Math.min(parent.width / child.width, parent.height / child.height);\n            Embedo.utils.transform(childNode, 'scale(' + scale + ')');\n          }\n        }\n\n        callback(null, {\n          width: parent.width,\n          height: parent.height\n        });\n      },\n      500\n    );\n  }\n\n  return Embedo;\n});\n","const getData = (dataSelector) => {\n  const htmlString = document.querySelector(dataSelector).innerHTML\n\n  return JSON.parse(htmlString)\n}\n\nexport default getData\n","const getReferrer = () => {\n  if (document.referrer.includes(location.protocol + '//' + location.host)) {\n    return document.referrer\n  } else {\n    return null\n  }\n}\n\nexport default getReferrer\n","export const getPageFromUrl = () => {\n  const hashPage = parseInt(location.hash.replace(/^\\D+/g, ''))\n\n  if (typeof hashPage === 'number' && hashPage > 0) {\n    return hashPage\n  } else {\n    return null\n  }\n}\n\nconst getInitalPage = (galleryLength) => {\n  const initialPage = getPageFromUrl()\n\n  if (typeof initialPage === 'number' && initialPage <= galleryLength) {\n    return initialPage\n  } else {\n    return 1\n  }\n}\n\nexport default getInitalPage\n","import Embedo from 'embedo'\n\nexport let embedoInst = null\n\nexport const initEmbedo = () => {\n  embedoInst = new Embedo({\n    twitter: true,\n    instagram: true,\n    pinterest: true,\n  })\n}\n","import Filer from 'filer-js-sdk'\n\n/**\n * Build template string for gallery\n * @return {string} template string\n */\nconst renderGalleryItems = (state) => {\n  return `\n    ${state.data.itemListElement.map((page, i) => `\n      <div class=\"smb-gallery-item\">\n        <div class=\"smb-gallery-media ${page.item['@type']}\">\n          ${renderMedia(page.item)}\n        </div>\n        ${page.item.copyrightHolder ? `\n        <div class=\"smb-gallery-info\">\n          <small>Bildquelle: ${page.item.copyrightHolder}</small>\n        </div>\n        ` : ''}\n        <div class=\"smb-gallery-content\">\n        ${i === 0 ? `\n          <h1>${page.item.headline}</h1>\n        ` : `\n          <h2>${page.item.headline}</h2>\n        `}\n          ${page.item.description}\n        </div>\n        <div class=\"smb-gallery-ed-container\">\n          <div data-slotname=\"${getSlotName(i)}\"></div>\n        </div>\n      </div>\n    `.trim()).join('')}\n  `\n}\n\n/**\n * Build templates-strings for different media items\n * @return {string}\n */\nconst renderMedia = (item) => {\n  switch (item['@type']) {\n    case 'ImageObject':\n      return `\n        ${item.width > 0 && item.height > 0 ? `\n          <div class=\"embed-responsive\" style=\"padding-bottom: ${item.height / item.width * 100}%\">\n            <img class=\"embed-responsive-item lazyload\" data-src=\"${Filer.createVariantUrl(item.contentUrl, [['rcm', 480, 0, 'u']])}\" alt=\"\">\n          </div>\n        ` : `\n          <img class=\"lazyload\" data-src=\"${Filer.createVariantUrl(item.contentUrl, [['rcm', 480, 0, 'u']])}\" alt=\"\">\n        `}\n      `\n    case 'VideoObject':\n      return `<iframe class=\"lazyload\" data-src=\"${item.embedUrl}\"></iframe>`\n    case 'SocialMediaPosting':\n      return `<div data-role=\"embedo\" data-url=\"${item.sharedContent.url}\"></div>`\n  }\n}\n\n/**\n * Find slotname by index\n * @param  {Int} i\n * @return {String}\n */\nconst getSlotName = (i) => {\n  switch (i % 4) {\n    case 0:\n      return 'galleryad'\n    case 1:\n      return 'galleryad2'\n    case 2:\n      return 'galleryad3'\n    case 3:\n      return 'galleryad4'\n  }\n}\n\nexport default renderGalleryItems\n","/**\n * Find all galleryItems that should have ads and load them.\n * Find all galleryItems that should not have ads and remove them.\n */\nconst circulateAds = (state) => {\n  const itemsThatShouldHaveAds = determineItemsThatShouldHaveAds(state)\n\n  unAssignAds(state, itemsThatShouldHaveAds)\n  assignAds(state, itemsThatShouldHaveAds)\n}\n\n/**\n * Returns Array with galleryItems that should have ads.\n * We select current page, page before, next page and page after next page\n * @return {Array} [description]\n */\nconst determineItemsThatShouldHaveAds = (state) => {\n  let itemsThatShouldHaveAds = []\n\n  // page before\n  if (state.galleryItems[state.currentPage - 2]) {\n    itemsThatShouldHaveAds.push(state.galleryItems[state.currentPage - 2])\n  }\n\n  // current page\n  if (state.galleryItems[state.currentPage - 1]) {\n    itemsThatShouldHaveAds.push(state.galleryItems[state.currentPage - 1])\n  }\n\n  // next page\n  if (state.galleryItems[state.currentPage]) {\n    itemsThatShouldHaveAds.push(state.galleryItems[state.currentPage])\n  }\n\n  // page after next page\n  if (state.galleryItems[state.currentPage + 1]) {\n    itemsThatShouldHaveAds.push(state.galleryItems[state.currentPage + 1])\n  }\n\n  return itemsThatShouldHaveAds\n}\n\n/**\n * For each galleryItem check if it is an \"itemThatShouldHaveAds\"\n * if not we can remove Ads from it\n * @param  {Array} itemsThatShouldHaveAds\n */\nconst unAssignAds = (state, itemsThatShouldHaveAds) => {\n  state.galleryItems.forEach((elm, index) => {\n    if (!itemsThatShouldHaveAds.includes(elm)) {\n      const adContainer = elm.querySelector('[data-slotname]')\n\n      if (adContainer.getAttribute('data-sdg-ad')) {\n        unloadAd(adContainer)\n        adContainer.removeAttribute('data-sdg-ad')\n      }\n    }\n  })\n}\n\n/**\n * For each itemsThatShouldHaveAds check if it has already an Ad\n * if not we can load it\n * @param  {Array} itemsThatShouldHaveAds\n */\nconst assignAds = (state, itemsThatShouldHaveAds) => {\n  itemsThatShouldHaveAds.forEach((elm, i) => {\n    const adContainer = elm.querySelector('[data-slotname]')\n\n    if (!adContainer.hasAttribute('data-sdg-ad')) {\n      const slotname = adContainer.getAttribute('data-slotname')\n\n      adContainer.setAttribute('data-sdg-ad', slotname)\n      loadAd(adContainer)\n    }\n  })\n}\n\n/**\n * Load an ad by dom-element with given \"data-sdg-ad\"-attribute\n * @param  {Object} adContainer\n */\nconst loadAd = (adContainer) => {\n  try {\n    window.adLoader('_loadAds', [adContainer])\n  } catch (e) {}\n}\n\n/**\n * unload an ad by dom-element with given \"data-sdg-ad\"-attribute\n * @param  {Object} adContainer\n */\nconst unloadAd = (adContainer) => {\n  try {\n    window.adLoader('_removeAds', [adContainer], true)\n  } catch (e) {}\n}\n\nexport default circulateAds\n","import './stylesheets/mobile.scss'\nimport './stylesheets/demo.scss'\nimport getData from './common/gallery-data.js'\nimport getReferrer from './common/referrer.js'\nimport getInitalPage from './common/url.js'\nimport { initEmbedo, embedoInst } from './common/embedo.js'\nimport renderGalleryItems from './mobile/render.js'\nimport circulateAds from './mobile/ads.js'\nimport Observer from 'smb-element-observer'\n\nconst defaults = {\n  dataSelector: '#galleryData',\n  contentSelector: '#galleryContent',\n}\n\nlet settings = {}\nlet state = {}\n\n/**\n * set initial state and render page depending\n * on url; if no page is set first page will render.\n * @param  {object} options\n * @param  {object} smbContext\n */\nconst init = (options, smbContext) => {\n  setInitialState(options)\n  renderGallery()\n  initEmbedo()\n}\n\n/**\n * Assign settings and set init state based on gallery data\n * @param {Object} options\n */\nconst setInitialState = (options) => {\n  settings = Object.assign({}, defaults, options)\n\n  state.data = getData(settings.dataSelector)\n  state.length = state.data.itemListElement.length\n  state.referrer = getReferrer()\n  state.currentPage = getInitalPage(state.length)\n}\n\n/**\n * Insert html and bind events afterwards.\n * Scrolls initial into view.\n * Execute \"afterPageRender\"-callback if provided.\n */\nconst renderGallery = () => {\n  applyGalleryItems()\n  scrollInitialItemIntoView()\n  bindEvents()\n\n  if (typeof settings.afterPageRender === 'function') {\n    settings.afterPageRender(state)\n  }\n}\n\n/**\n * Apply gallers Items to HTML and to stateObject\n */\nconst applyGalleryItems = () => {\n  document.querySelector(settings.contentSelector).innerHTML = renderGalleryItems(state)\n  state.galleryItems = document.querySelectorAll('.smb-gallery-item')\n}\n\n/**\n * If user starts with > #page-1 scroll that page\n * into the viewport\n */\nconst scrollInitialItemIntoView = () => {\n  if (state.currentPage > 1) {\n    state.galleryItems[state.currentPage].scrollIntoView()\n  }\n}\n\n/**\n * Bind events for intersection, popstate and tracking\n */\nconst bindEvents = () => {\n  state.galleryItems.forEach((elm, index) => {\n    Observer.repeat(elm.querySelector('.smb-gallery-content'), () => {\n      if (state.currentPage !== index + 1) {\n        state.currentPage = index + 1\n        window.history.pushState({ page: state.currentPage }, '', '#page-' + state.currentPage)\n      }\n\n      circulateAds(state)\n    })\n\n    if (elm.querySelector('[data-role=\"embedo\"]')) {\n      const post = elm.querySelector('[data-role=\"embedo\"]')\n      const postUrl = post.getAttribute('data-url')\n\n      Observer.once(elm, () => {\n        embedoInst.load(post, postUrl, { centerize: true })\n      }, 200)\n    }\n  })\n}\n\nexport default { init }\n"],"sourceRoot":""}